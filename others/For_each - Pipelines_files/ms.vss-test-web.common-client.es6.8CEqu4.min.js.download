"use strict";define("Test/Client",["require","exports","VSS/Platform/Context","VSS/Platform/RestClientBase","VSS/Platform/Util/Serialization","Tfs/Platform/Page","VSS/Platform/Feature"],(function(e,t,s,r,n,u,o){!function(){t.RestClientExtended={};class e extends r.RestClientBase{async getTestResultsByBuildWithContinuationToken(e,t,s,r,o,i){const a={buildId:t,publishContext:s,outcomes:r,$top:o,continuationToken:i};return this.beginRequest({routeTemplate:"{project}/_apis/test/ResultsByBuild",routeValues:{project:e},queryParams:a,apiVersion:"4.1-preview.1",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({results:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}async getTestResultsByReleaseWithContinuationToken(e,t,s,r,o,i,a){const l={releaseId:t,releaseEnvid:s,publishContext:r,outcomes:o,$top:i,continuationToken:a};return this.beginRequest({routeTemplate:"{project}/_apis/test/ResultsByRelease",routeValues:{project:e},queryParams:l,apiVersion:"4.1-preview.1",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({results:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}getResultGroupsByBuildWithContinuationToken(e,t,s,r,o){const i={buildId:t,publishContext:s,fields:r&&r.join(","),continuationToken:o};return this.beginRequest({routeTemplate:"{project}/_apis/test/ResultGroupsByBuild",routeValues:{project:e},queryParams:i,apiVersion:"5.0-preview.2",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({fieldDetails:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}getResultGroupsByReleaseWithContinuationToken(e,t,s,r,o,i){const a={releaseId:t,publishContext:s,releaseEnvId:r,fields:o&&o.join(","),continuationToken:i};return this.beginRequest({routeTemplate:"{project}/_apis/test/ResultGroupsByRelease",routeValues:{project:e},queryParams:a,apiVersion:"5.0-preview.2",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({fieldDetails:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}}const u="x-ms-continuationtoken";s.RestClients.add("IExtendedTestClient",{factory:e,options:{serviceInstanceType:"00025394-6065-48ca-87d9-7f5672854ef7"}})}(),function(){t.RestClientExtendedTcm={};class e extends r.RestClientBase{async getTestResultsByPipelineWithContinuationToken(e,t,s,r,o,i,a,l){const p={pipelineId:t,stageName:s,phaseName:r,jobName:o,outcomes:i,$top:a};var c={};return l&&(c={"x-ms-continuationtoken":l}),this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultsbypipeline",routeValues:{project:e},queryParams:p,customHeaders:c,returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({results:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}async getTestResultsByBuildWithContinuationToken(e,t,s,r,o,i){const a={buildId:t,publishContext:s,outcomes:r,$top:o,continuationToken:i};return this.beginRequest({routeTemplate:"{project}/_apis/tcm/ResultsByBuild",routeValues:{project:e},queryParams:a,apiVersion:"4.1-preview.1",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({results:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}async getTestResultsByReleaseWithContinuationToken(e,t,s,r,o,i,a){const l={releaseId:t,releaseEnvid:s,publishContext:r,outcomes:o,$top:i,continuationToken:a};return this.beginRequest({routeTemplate:"{project}/_apis/tcm/ResultsByRelease",routeValues:{project:e},queryParams:l,apiVersion:"4.1-preview.1",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({results:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}getResultGroupsByBuildWithContinuationToken(e,t,s,r,o){const i={buildId:t,publishContext:s,fields:r&&r.join(","),continuationToken:o};return this.beginRequest({routeTemplate:"{project}/_apis/tcm/ResultGroupsByBuild",routeValues:{project:e},queryParams:i,apiVersion:"5.0-preview.2",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({fieldDetails:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}getResultGroupsByReleaseWithContinuationToken(e,t,s,r,o,i){const a={releaseId:t,publishContext:s,releaseEnvId:r,fields:o&&o.join(","),continuationToken:i};return this.beginRequest({routeTemplate:"{project}/_apis/tcm/ResultGroupsByRelease",routeValues:{project:e},queryParams:a,apiVersion:"5.0-preview.2",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({fieldDetails:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}getTestLogsForBuild(e,t,s,r,o,i,a,l){const p={buildId:t,type:s,directoryPath:r,fileNamePrefix:o,fetchMetaData:i,top:a,continuationToken:l};return this.beginRequest({routeTemplate:"{project}/_apis/testresults/testlog",routeValues:{project:e},queryParams:p,apiVersion:"5.0-preview.1",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({results:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}getTestResultLogs(e,t,s,r,o,i,a,l,p){const c={type:r,directoryPath:o,fileNamePrefix:i,fetchMetaData:a,top:l,continuationToken:p};var d={};return p&&(d={"x-ms-continuationtoken":p}),this.beginRequest({routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlog",routeValues:{project:e,runId:t,resultId:s},queryParams:c,customHeaders:d,apiVersion:"5.0-preview.1",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({results:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}getTestSubResultLogs(e,t,s,r,o,i,a,l,p,c){const d={subResultId:r,type:o,directoryPath:i,fileNamePrefix:a,fetchMetaData:l,top:p};var m={};return c&&(m={"x-ms-continuationtoken":c}),this.beginRequest({routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlog",routeValues:{project:e,runId:t,resultId:s},queryParams:d,customHeaders:m,apiVersion:"5.0-preview.1",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({results:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}getTestRunLogs(e,t,s,r,o,i,a,l){const p={type:s,directoryPath:r,fileNamePrefix:o,fetchMetaData:i,top:a};var c={};return l&&(c={"x-ms-continuationtoken":l}),this.beginRequest({routeTemplate:"{project}/_apis/testresults/runs/{runId}/testlog",routeValues:{project:e,runId:t},queryParams:p,customHeaders:c,apiVersion:"5.0-preview.1",returnRawResponse:!0}).then((e=>{const t=e.headers.get(u);return e.text().then((e=>({results:(0,n.deserializeVssJsonObject)(e),continuationToken:t})))}))}getTestWeightedScoreByTestRuns(e,t,s,r){const u={includeAllOutcomes:s,onlyFlakyTestResults:r};return this.beginRequest({routeTemplate:"{project}/_apis/testresults/testweightedscore/{runIds}",routeValues:{project:e,runIds:t},queryParams:u,apiVersion:"7.2-preview.7",returnRawResponse:!0}).then((e=>e.text().then((e=>{const t=(0,n.deserializeVssJsonObject)(e);return null!=t?t:[]}))))}getFlakyTestResultsForTestRun(e,t){return this.beginRequest({routeTemplate:"{project}/_apis/testresults/flakytestresults/runs/{runId}",routeValues:{project:e,runId:t},apiVersion:"7.2-preview",returnRawResponse:!0}).then((e=>e.text().then((e=>{const t=(0,n.deserializeVssJsonObject)(e);return null!=t?t:[]}))))}}const u="x-ms-continuationtoken";s.RestClients.add("IExtendedTcmClient",{factory:e,options:{serviceInstanceType:"00000054-0000-8888-8000-000000000000"}})}(),function(e){t[e]={};class n extends r.RestClientBase{constructor(e){super(e)}async getTestResultAttachmentContent(e,t,s,r){return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r}})}async getTestResultAttachments(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s}})}async getTestSubResultAttachmentContent(e,t,s,r,n){const u={testSubResultId:n};return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r},queryParams:u})}async getTestSubResultAttachments(e,t,s,r){const n={testSubResultId:r};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s},queryParams:n})}async getTestRunAttachmentContent(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/test/Runs/{runId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t,attachmentId:s}})}async getTestRunAttachments(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/Runs/{runId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t}})}async getBugsLinkedToTestResult(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Bugs",routeValues:{project:e,runId:t,testCaseResultId:s}})}async getBuildCodeCoverage(e,t,s){const r={buildId:t,flags:s};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/CodeCoverage",routeValues:{project:e},queryParams:r})}async getCodeCoverageSummary(e,t,s){const r={buildId:t,deltaBuildId:s};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/CodeCoverage",routeValues:{project:e},queryParams:r})}async getPointsByQuery(e,t,s,r){const n={$skip:s,$top:r};return this.beginRequest({apiVersion:"5.1-preview.2",method:"POST",routeTemplate:"{project}/_apis/test/Points",routeValues:{project:t},queryParams:n,body:e})}async getTestResultDetailsForBuild(e,t,s,r,n,u,o,i){const a={buildId:t,publishContext:s,groupBy:r,$filter:n,$orderby:u,shouldIncludeResults:o,queryRunSummaryForInProgress:i};return this.beginRequest({apiVersion:"5.1-preview.2",routeTemplate:"{project}/_apis/test/ResultDetailsByBuild",routeValues:{project:e},queryParams:a})}async getTestResultDetailsForRelease(e,t,s,r,n,u,o,i,a){const l={releaseId:t,releaseEnvId:s,publishContext:r,groupBy:n,$filter:u,$orderby:o,shouldIncludeResults:i,queryRunSummaryForInProgress:a};return this.beginRequest({apiVersion:"5.1-preview.2",routeTemplate:"{project}/_apis/test/ResultDetailsByRelease",routeValues:{project:e},queryParams:l})}async getTestResultById(e,t,s,r){const n={detailsToInclude:r};return this.beginRequest({apiVersion:"5.1-preview.6",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}",routeValues:{project:e,runId:t,testCaseResultId:s},queryParams:n})}async getTestResultsByQuery(e,t){return this.beginRequest({apiVersion:"5.1-preview.6",method:"POST",routeTemplate:"{project}/_apis/test/Results",routeValues:{project:t},body:e})}async queryTestResultsReportForBuild(e,t,s,r,n){const u={buildId:t,publishContext:s,includeFailureDetails:r,buildToCompare:n};return this.beginRequest({apiVersion:"5.1-preview.3",routeTemplate:"{project}/_apis/test/ResultSummaryByBuild",routeValues:{project:e},queryParams:u})}async createTestRun(e,t){return this.beginRequest({apiVersion:"5.1-preview.3",method:"POST",routeTemplate:"{project}/_apis/test/Runs/{runId}",routeValues:{project:t},body:e})}async getTestRunById(e,t,s){const r={includeDetails:s};return this.beginRequest({apiVersion:"5.1-preview.3",routeTemplate:"{project}/_apis/test/Runs/{runId}",routeValues:{project:e,runId:t},queryParams:r})}async updateTestRun(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.3",method:"PATCH",routeTemplate:"{project}/_apis/test/Runs/{runId}",routeValues:{project:t,runId:s},body:e})}async addTestCasesToSuite(e,t,s,r){return this.beginRequest({apiVersion:"5.1-preview.3",method:"POST",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{suiteId}/{action}/{testCaseIds}",routeValues:{project:e,planId:t,suiteId:s,testCaseIds:r,action:"TestCases"}})}async queryTestHistory(e,t){return this.beginRequest({apiVersion:"5.1-preview.2",method:"POST",routeTemplate:"{project}/_apis/test/Results/TestHistory",routeValues:{project:t},body:e})}async createTestSettings(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/test/TestSettings/{testSettingsId}",routeValues:{project:t},body:e})}async deleteTestMethodToWorkItemLink(e,t,s){const r={testName:t,workItemId:s};return this.beginRequest({apiVersion:"5.1-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/test/TestMethods/{testName}/WorkItems/{workItemId}",routeValues:{project:e},queryParams:r})}async queryTestMethodLinkedWorkItems(e,t){const s={testName:t};return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/test/TestMethods/{testName}/WorkItems/{workItemId}",routeValues:{project:e},queryParams:s})}async queryTestResultWorkItems(e,t,s,r,n,u,o){const i={workItemCategory:t,automatedTestName:s,testCaseId:r,maxCompleteDate:n,days:u,$workItemCount:o};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/Results/WorkItems",routeValues:{project:e},queryParams:i})}}t[e].TestClientName="ITestRestClient",t[e].getTestClient=function(s,r){return s.getRestClient(t[e].TestClientName,r)},s.RestClients.add(t[e].TestClientName,{factory:n,options:{resourceAreaId:"c2aa639c-3ccc-4740-b3b6-ce2a1e1d984e",serviceInstanceType:"00025394-6065-48ca-87d9-7f5672854ef7"}})}("RestClientTest"),function(e){t[e]={};class u extends r.RestClientBase{constructor(e){super(e)}async getAfdTcmEndpoint(e){const t={key:e};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"_apis/afdtcmendpointlookup",queryParams:t})}async createTestIterationResultAttachment(e,t,s,r,n,u){const o={iterationId:n,actionPath:u};return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:t,runId:s,testCaseResultId:r},queryParams:o,body:e})}async createTestResultAttachment(e,t,s,r){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:t,runId:s,testCaseResultId:r},body:e})}async createTestSubResultAttachment(e,t,s,r,n){const u={testSubResultId:n};return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:t,runId:s,testCaseResultId:r},queryParams:u,body:e})}async deleteTestResultAttachment(e,t,s,r){return this.beginRequest({apiVersion:"5.2-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r}})}async getTestIterationAttachmentContent(e,t,s,r,n){const u={iterationId:n};return this.beginRequest({apiVersion:"5.2-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r},queryParams:u})}async getTestIterationAttachmentZip(e,t,s,r,n){const u={iterationId:n};return this.beginRequest({apiVersion:"5.2-preview.1",httpResponseType:"application/zip",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r},queryParams:u})}async getTestResultAttachmentContent(e,t,s,r){return this.beginRequest({apiVersion:"5.2-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r}})}async getTestResultAttachments(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s}})}async getTestResultAttachmentZip(e,t,s,r){return this.beginRequest({apiVersion:"5.2-preview.1",httpResponseType:"application/zip",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r}})}async getTestSubResultAttachmentContent(e,t,s,r,n){const u={testSubResultId:n};return this.beginRequest({apiVersion:"5.2-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r},queryParams:u})}async getTestSubResultAttachments(e,t,s,r){const n={testSubResultId:r};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s},queryParams:n})}async getTestSubResultAttachmentZip(e,t,s,r,n){const u={testSubResultId:n};return this.beginRequest({apiVersion:"5.2-preview.1",httpResponseType:"application/zip",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r},queryParams:u})}async createTestRunAttachment(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/attachments/{attachmentId}",routeValues:{project:t,runId:s},body:e})}async deleteTestRunAttachment(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/testresults/runs/{runId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,attachmentId:s}})}async getTestRunAttachmentContent(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/testresults/runs/{runId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,attachmentId:s}})}async getTestRunAttachments(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/attachments/{attachmentId}",routeValues:{project:e,runId:t}})}async getTestRunAttachmentZip(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",httpResponseType:"application/zip",routeTemplate:"{project}/_apis/testresults/runs/{runId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,attachmentId:s}})}async getBugsLinkedToTestResult(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/bugs",routeValues:{project:e,runId:t,testCaseResultId:s}})}async fetchSourceCodeCoverageReport(e,t){const s={buildId:t};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/codecoverage/sourceview",routeValues:{project:e},queryParams:s})}async getBuildCodeCoverage(e,t,s){const r={buildId:t,flags:s};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/codecoverage",routeValues:{project:e},queryParams:r})}async getCodeCoverageSummary(e,t,s){const r={buildId:t,deltaBuildId:s};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/codecoverage",routeValues:{project:e},queryParams:r})}async updateCodeCoverageSummary(e,t,s){const r={buildId:t};return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/codecoverage",routeValues:{project:e},queryParams:r,body:s})}async getTestRunCodeCoverage(e,t,s){const r={flags:s};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/codecoverage",routeValues:{project:e,runId:t},queryParams:r})}async addCustomFields(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/extensionfields",routeValues:{project:t},body:e})}async queryCustomFields(e,t){const s={scopeFilter:t};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/extensionfields",routeValues:{project:e},queryParams:s})}async deleteCustomFieldById(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/testresults/extensionfields/{testExtensionFieldId}",routeValues:{project:e,testExtensionFieldId:t}})}async updateCustomField(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/testresults/extensionfields/{testExtensionFieldId}",routeValues:{project:t},body:e})}async getFileLevelCodeCoverage(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/testresults/codecoverage/filecoverage",routeValues:{project:t},body:e})}async getFlakyTestResultsByBuildDefinitionId(e,t,s){const r={buildDefinitionId:t,minBuildCreatedDate:s};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/flakytestresults/builddefinition",routeValues:{project:e},queryParams:r})}async getFlakyTestResultsByTestRun(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/flakytestresults/runs/{runId}",routeValues:{project:e,runId:t}})}async getBranchesByFlakyTestCaseRefId(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/flakytestresults/testcasereference/{testCaseReferenceId}",routeValues:{project:e,testCaseReferenceId:t}})}async queryTestResultHistory(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/results/History",routeValues:{project:t},body:e})}async getTestRunMessageLogs(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/MessageLogs",routeValues:{project:e,runId:t}})}async getTestPipelineMetrics(e,t,s,r,n,u,o){const i={pipelineId:t,stageName:s,phaseName:r,jobName:n,metricNames:u&&u.join(","),groupByNode:o};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/metrics",routeValues:{project:e},queryParams:i})}async getTestResultDetailsForBuild(e,t,s,r,n,u,o,i){const a={buildId:t,publishContext:s,groupBy:r,$filter:n,$orderby:u,shouldIncludeResults:o,queryRunSummaryForInProgress:i};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/resultdetailsbybuild",routeValues:{project:e},queryParams:a})}async getTestResultDetailsForRelease(e,t,s,r,n,u,o,i,a){const l={releaseId:t,releaseEnvId:s,publishContext:r,groupBy:n,$filter:u,$orderby:o,shouldIncludeResults:i,queryRunSummaryForInProgress:a};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/resultdetailsbyrelease",routeValues:{project:e},queryParams:l})}async publishTestResultDocument(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/ResultDocument",routeValues:{project:t,runId:s},body:e})}async getResultGroupsByBuild(e,t,s,r,u){const o={buildId:t,publishContext:s,fields:r&&r.join(","),continuationToken:u};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/resultgroupsbybuild",routeValues:{project:e},queryParams:o,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(n.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async getResultGroupsByRelease(e,t,s,r,u,o){const i={releaseId:t,publishContext:s,releaseEnvId:r,fields:u&&u.join(","),continuationToken:o};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/resultgroupsbyrelease",routeValues:{project:e},queryParams:i,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(n.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async queryTestResultsMetaData(e,t,s){const r={detailsToInclude:s};return this.beginRequest({apiVersion:"5.2-preview.3",method:"POST",routeTemplate:"{project}/_apis/testresults/results/ResultMetaData/{testCaseReferenceId}",routeValues:{project:t},queryParams:r,body:e})}async updateTestResultsMetaData(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.3",method:"PATCH",routeTemplate:"{project}/_apis/testresults/results/ResultMetaData/{testCaseReferenceId}",routeValues:{project:t,testCaseReferenceId:s},body:e})}async getTestResultsByQuery(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/results",routeValues:{project:t},body:e})}async getTestResultsByQueryWiql(e,t,s,r,n,u){const o={includeResultDetails:s,includeIterationDetails:r,$skip:n,$top:u};return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/results/query",routeValues:{project:t},queryParams:o,body:e})}async addTestResultsToTestRun(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testResultId}",routeValues:{project:t,runId:s},body:e})}async getTestResultById(e,t,s,r){const n={detailsToInclude:r};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testResultId}",routeValues:{project:e,runId:t,testResultId:s},queryParams:n})}async getTestResults(e,t,s,r,n,u){const o={detailsToInclude:s,$skip:r,$top:n,outcomes:u&&u.join(",")};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testResultId}",routeValues:{project:e,runId:t},queryParams:o})}async updateTestResults(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testResultId}",routeValues:{project:t,runId:s},body:e})}async getTestResultsByBuild(e,t,s,r,u,o){const i={buildId:t,publishContext:s,outcomes:r&&r.join(","),$top:u,continuationToken:o};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/resultsbybuild",routeValues:{project:e},queryParams:i,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(n.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async getTestResultsByPipeline(e,t,s,r,u,o,i,a,l){const p={pipelineId:t,stageName:s,phaseName:r,jobName:u,outcomes:o&&o.join(","),includeAllBuildRuns:i,$top:a};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/resultsbypipeline",routeValues:{project:e},customHeaders:{"x-ms-continuationtoken":l},queryParams:p,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(n.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async getTestResultsByRelease(e,t,s,r,u,o,i){const a={releaseId:t,releaseEnvid:s,publishContext:r,outcomes:u&&u.join(","),$top:o,continuationToken:i};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/resultsbyrelease",routeValues:{project:e},queryParams:a,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(n.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async testResultsGroupDetails(e,t,s,r,n,u,o){const i={pipelineId:t,stageName:s,phaseName:r,jobName:n,shouldIncludeFailedAndAbortedResults:u,queryGroupSummaryForInProgress:o};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/resultsgroupDetails",routeValues:{project:e},queryParams:i})}async queryTestResultsReportForBuild(e,t,s,r,n){const u={buildId:t,publishContext:s,includeFailureDetails:r,buildToCompare:n};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/resultsummarybybuild",routeValues:{project:e},queryParams:u})}async queryTestResultsReportForPipeline(e,t,s,r,n,u){const o={pipelineId:t,stageName:s,phaseName:r,jobName:n,includeFailureDetails:u};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/resultsummarybypipeline",routeValues:{project:e},queryParams:o})}async queryTestResultsReportForRelease(e,t,s,r,n,u){const o={releaseId:t,releaseEnvId:s,publishContext:r,includeFailureDetails:n,releaseToCompare:u};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/resultsummarybyrelease",routeValues:{project:e},queryParams:o})}async queryTestResultsSummaryForReleases(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/resultsummarybyrelease",routeValues:{project:t},body:e})}async queryTestSummaryByRequirement(e,t,s){const r={workItemIds:s&&s.join(",")};return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/resultsummarybyrequirement",routeValues:{project:t},queryParams:r,body:e})}async queryResultTrendForBuild(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/ResultTrendByBuild",routeValues:{project:t},body:e})}async queryResultTrendForRelease(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/ResultTrendByRelease",routeValues:{project:t},body:e})}async createTestRun(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:t},body:e})}async deleteTestRun(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:e,runId:t}})}async getTestRunById(e,t,s,r){const n={includeDetails:s,includeTags:r};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:e,runId:t},queryParams:n})}async getTestRuns(e,t,s,r,n,u,o,i,a){const l={buildUri:t,owner:s,tmiRunId:r,planId:n,includeRunDetails:u,automated:o,$skip:i,$top:a};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:e},queryParams:l})}async queryTestRuns(e,t,s,r,u,o,i,a,l,p,c,d,m,R,h,T,y,g){const I={minLastUpdatedDate:t,maxLastUpdatedDate:s,state:r,planIds:u&&u.join(","),isAutomated:o,publishContext:i,buildIds:a&&a.join(","),buildDefIds:l&&l.join(","),branchName:p,releaseIds:c&&c.join(","),releaseDefIds:d&&d.join(","),releaseEnvIds:m&&m.join(","),releaseEnvDefIds:R&&R.join(","),runTitle:h,$top:T,$sortOrder:y,continuationToken:g};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:e},queryParams:I,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(n.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async updateTestRun(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:t,runId:s},body:e})}async getTestResultsSettings(e,t){const s={settingsType:t};return this.beginRequest({apiVersion:"5.2-preview.3",routeTemplate:"{project}/_apis/testresults/settings",routeValues:{project:e},queryParams:s})}async updatePipelinesTestSettings(e,t){return this.beginRequest({apiVersion:"5.2-preview.3",method:"PATCH",routeTemplate:"{project}/_apis/testresults/settings",routeValues:{project:t},body:e})}async getSimilarTestResults(e,t,s,r,n,u){const o={testSubResultId:r,$top:n};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testResultId}/SimilarTestResults",routeValues:{project:e,runId:t,testResultId:s},customHeaders:{"x-ms-continuationtoken":u},queryParams:o})}async getTestRunStatistics(e,t){return this.beginRequest({apiVersion:"5.2-preview.2",routeTemplate:"{project}/_apis/testresults/runs/{runId}/statistics",routeValues:{project:e,runId:t}})}async getCoverageStatusBadge(e,t,s,r){const n={branchName:s,label:r};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/codecoverage/status/{*definition}",routeValues:{project:e,definition:t},queryParams:n})}async getTestTagsForBuild(e,t){const s={buildId:t};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/tags",routeValues:{project:e},queryParams:s})}async getTestTagsForRelease(e,t,s){const r={releaseId:t,releaseEnvId:s};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/tags",routeValues:{project:e},queryParams:r})}async updateTestRunTags(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/testresults/runs/{runId}/tags",routeValues:{project:t,runId:s},body:e})}async getTestTagSummaryForBuild(e,t){const s={buildId:t};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/tagsummary",routeValues:{project:e},queryParams:s})}async getTestTagSummaryForRelease(e,t,s){const r={releaseId:t,releaseEnvId:s};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/tagsummary",routeValues:{project:e},queryParams:r})}async generateTestPlanFromWorkItem(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/testai/generatetestplanfromworkitem/{workItemId}",routeValues:{project:t,workItemId:s},body:e})}async queryTestHistory(e,t){return this.beginRequest({apiVersion:"5.2-preview.2",method:"POST",routeTemplate:"{project}/_apis/testresults/results/TestHistory",routeValues:{project:t},body:e})}async getTestLogsForBuild(e,t,s,r,u,o,i,a){const l={buildId:t,type:s,directoryPath:r,fileNamePrefix:u,fetchMetaData:o,top:i};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/testlog",routeValues:{project:e},customHeaders:{"x-ms-continuationtoken":a},queryParams:l,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(n.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async getTestResultLogs(e,t,s,r,u,o,i,a,l){const p={type:r,directoryPath:u,fileNamePrefix:o,fetchMetaData:i,top:a};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlog",routeValues:{project:e,runId:t,resultId:s},customHeaders:{"x-ms-continuationtoken":l},queryParams:p,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(n.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async getTestSubResultLogs(e,t,s,r,u,o,i,a,l,p){const c={subResultId:r,type:u,directoryPath:o,fileNamePrefix:i,fetchMetaData:a,top:l};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlog",routeValues:{project:e,runId:t,resultId:s},customHeaders:{"x-ms-continuationtoken":p},queryParams:c,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(n.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async getTestRunLogs(e,t,s,r,u,o,i,a){const l={type:s,directoryPath:r,fileNamePrefix:u,fetchMetaData:o,top:i};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/testlog",routeValues:{project:e,runId:t},customHeaders:{"x-ms-continuationtoken":a},queryParams:l,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(n.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async getTestLogStoreEndpointDetailsForBuildLog(e,t,s,r){const n={build:t,type:s,filePath:r};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/testlogstoreendpoint",routeValues:{project:e},queryParams:n})}async testLogStoreEndpointDetailsForBuild(e,t,s){const r={buildId:t,testLogStoreOperationType:s};return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/testlogstoreendpoint",routeValues:{project:e},queryParams:r})}async getTestLogStoreEndpointDetailsForResultLog(e,t,s,r,n){const u={type:r,filePath:n};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlogstoreendpoint",routeValues:{project:e,runId:t,resultId:s},queryParams:u})}async getTestLogStoreEndpointDetailsForSubResultLog(e,t,s,r,n,u){const o={subResultId:r,type:n,filePath:u};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlogstoreendpoint",routeValues:{project:e,runId:t,resultId:s},queryParams:o})}async testLogStoreEndpointDetailsForResult(e,t,s,r,n,u){const o={subResultId:r,filePath:n,type:u};return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlogstoreendpoint",routeValues:{project:e,runId:t,resultId:s},queryParams:o})}async getTestLogStoreEndpointDetailsForRunLog(e,t,s,r){const n={type:s,filePath:r};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/testlogstoreendpoint",routeValues:{project:e,runId:t},queryParams:n})}async testLogStoreEndpointDetailsForRun(e,t,s,r,n){const u={testLogStoreOperationType:s,filePath:r,type:n};return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/testlogstoreendpoint",routeValues:{project:e,runId:t},queryParams:u})}async createTestSession(e,t){return this.beginRequest({apiVersion:"5.2-preview.2",method:"POST",routeTemplate:"{project}/_apis/testresults/testsession/session/{sessionId}",routeValues:{project:t},body:e})}async getTestSession(e,t){const s={buildId:t};return this.beginRequest({apiVersion:"5.2-preview.2",routeTemplate:"{project}/_apis/testresults/testsession/session/{sessionId}",routeValues:{project:e},queryParams:s})}async getTestSessionLayout(e,t){return this.beginRequest({apiVersion:"5.2-preview.2",routeTemplate:"{project}/_apis/testresults/testsession/session/{sessionId}",routeValues:{project:e,sessionId:t}})}async updateTestSession(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.2",method:"PATCH",routeTemplate:"{project}/_apis/testresults/testsession/session/{sessionId}",routeValues:{project:t,sessionId:s},body:e})}async createAnalysis(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.2",method:"POST",routeTemplate:"{project}/_apis/testresults/testsession/{sessionId}/analysis",routeValues:{project:t,sessionId:s},body:e})}async createEnvironment(e,t){return this.beginRequest({apiVersion:"5.2-preview.2",method:"POST",routeTemplate:"{project}/_apis/testresults/testsession/environment",routeValues:{project:t},body:e})}async createEnvironmentAndMachine(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.2",method:"POST",routeTemplate:"{project}/_apis/testresults/testsession/{sessionId}/machines",routeValues:{project:t,sessionId:s},body:e})}async getTestSessionLayoutBySessionId(e,t){return this.beginRequest({apiVersion:"5.2-preview.2",routeTemplate:"{project}/_apis/testresults/testsession/session/{sessionId}/layout",routeValues:{project:e,sessionId:t}})}async createNotification(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.2",method:"POST",routeTemplate:"{project}/_apis/testresults/testsession/{sessionId}/notifications",routeValues:{project:t,sessionId:s},body:e})}async getSessionNotifications(e,t){return this.beginRequest({apiVersion:"5.2-preview.2",routeTemplate:"{project}/_apis/testresults/testsession/{sessionId}/notifications",routeValues:{project:e,sessionId:t}})}async addTestResultsToTestRunSession(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.2",method:"POST",routeTemplate:"{project}/_apis/testresults/testsession/runs/{runId}/results/{testResultId}",routeValues:{project:t,runId:s},body:e})}async getTestSessionResults(e,t,s,r,n,u,o){const i={detailsToInclude:s,$skip:r,$top:n,outcomes:u&&u.join(","),$newTestsOnly:o};return this.beginRequest({apiVersion:"5.2-preview.2",routeTemplate:"{project}/_apis/testresults/testsession/runs/{runId}/results/{testResultId}",routeValues:{project:e,runId:t},queryParams:i})}async updateTestResultsToTestRunSession(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.2",method:"PATCH",routeTemplate:"{project}/_apis/testresults/testsession/runs/{runId}/results/{testResultId}",routeValues:{project:t,runId:s},body:e})}async createTestResultMachines(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.2",method:"POST",routeTemplate:"{project}/_apis/testresults/testsession/runs/{runId}/machines",routeValues:{project:t,runId:s},body:e})}async getTestResultMachines(e,t){return this.beginRequest({apiVersion:"5.2-preview.2",routeTemplate:"{project}/_apis/testresults/testsession/runs/{runId}/machines",routeValues:{project:e,runId:t}})}async getTestResultsByPipelineMRX(e,t,s,r,u,o,i,a,l){const p={pipelineId:t,stageName:s,phaseName:r,jobName:u,outcomes:o&&o.join(","),includeAllBuildRuns:i,$top:a};return this.beginRequest({apiVersion:"5.2-preview.2",routeTemplate:"{project}/_apis/testresults/testsession/resultsbypipeline",routeValues:{project:e},customHeaders:{"x-ms-continuationtoken":l},queryParams:p,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(n.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async getTestRunsBySessionId(e,t){return this.beginRequest({apiVersion:"5.2-preview.2",routeTemplate:"{project}/_apis/testresults/testsession/{sessionId}/runs",routeValues:{project:e,sessionId:t}})}async updateTestRunsBySessionId(e,t,s){return this.beginRequest({apiVersion:"5.2-preview.2",method:"PATCH",routeTemplate:"{project}/_apis/testresults/testsession/{sessionId}/runs",routeValues:{project:t,sessionId:s},body:e})}async createTestSettings(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/testsettings",routeValues:{project:t},body:e})}async deleteTestSettings(e,t){const s={testSettingsId:t};return this.beginRequest({apiVersion:"5.2-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/testresults/testsettings",routeValues:{project:e},queryParams:s})}async getTestSettingsById(e,t){const s={testSettingsId:t};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/testsettings",routeValues:{project:e},queryParams:s})}async addWorkItemToTestLinks(e,t){return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/testmethods/workitems",routeValues:{project:t},body:e})}async deleteTestMethodToWorkItemLink(e,t,s){const r={testName:t,workItemId:s};return this.beginRequest({apiVersion:"5.2-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/testresults/testmethods/{testName}/workitems/{workItemId}",routeValues:{project:e},queryParams:r})}async queryTestMethodLinkedWorkItems(e,t){const s={testName:t};return this.beginRequest({apiVersion:"5.2-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/testmethods/{testName}/workitems/{workItemId}",routeValues:{project:e},queryParams:s})}async queryTestResultWorkItems(e,t,s,r,n,u,o){const i={workItemCategory:t,automatedTestName:s,testCaseId:r,maxCompleteDate:n,days:u,$workItemCount:o};return this.beginRequest({apiVersion:"5.2-preview.1",routeTemplate:"{project}/_apis/testresults/results/workitems",routeValues:{project:e},queryParams:i})}}t[e].TestResultsClientName="ITestResultsRestClient",t[e].getTestResultsClient=function(s,r){return s.getRestClient(t[e].TestResultsClientName,r)},s.RestClients.add(t[e].TestResultsClientName,{factory:u,options:{resourceAreaId:"c83eaf52-edf3-4034-ae11-17d38f25404c",serviceInstanceType:"00000054-0000-8888-8000-000000000000"}})}("RestClientTestResults"),function(e){t[e]={};class n extends r.RestClientBase{constructor(e){super(e)}async getTestResultByAttachmentId(e,t,s){const r={__v:s};return this.beginRequest({apiVersion:"5",method:"POST",routeTemplate:"{project}/_api/_testManagement/resolveArtifacts",routeValues:{project:e},queryParams:r,body:t})}}t[e].TestResultsMvcRestClientName="ITestResultsMvcRestClient",t[e].getTestResultsMvcClient=function(s,r){return s.getRestClient(t[e].TestResultsMvcRestClientName,r)},s.RestClients.add(t[e].TestResultsMvcRestClientName,{factory:n,options:{resourceAreaId:"c83eaf52-edf3-4034-ae11-17d38f25404c",serviceInstanceType:"00025394-6065-48ca-87d9-7f5672854ef7"}})}("RestClientTestResultsMvcRestClient"),function(e){t[e]={},t[e].TestManagementServiceName="ITestManagementService";class r extends s.VssService{_serviceStart(e){super._serviceStart(e);const t=(0,u.getTFSPageData)(e);this._projectName=t&&t.project?t.project.name:"",this._tfsClient=e.getRestClient("ITestRestClient"),(0,o.isFeatureFlagEnabled)(e,"WebAccess.TestManagement.QueryFromTcmService",!0)?(this._extendedClient=e.getRestClient("IExtendedTcmClient"),this._client=e.getRestClient("ITestResultsRestClient"),this._isTCMClient=!0):(this._extendedClient=e.getRestClient("IExtendedTestClient"),this._client=this._tfsClient,this._isTCMClient=!1),(0,o.isFeatureFlagEnabled)(e,"WebAccess.TestManagement.GetBuildCodeCoverage.EnableSqlReadReplica",!1)?this._tfsReadOnlyClientForGetBuildCoverage=e.getRestClient("ITestRestClient",{readConsistencyLevel:s.IVssReadConsistencyLevel.Eventual}):this._tfsReadOnlyClientForGetBuildCoverage=e.getRestClient("ITestRestClient"),(0,o.isFeatureFlagEnabled)(e,"WebAccess.TestManagement.GetCodeCoverageSummary.EnableSqlReadReplica",!1)?this._tfsReadOnlyClientForGetCoverageSummary=e.getRestClient("ITestRestClient",{readConsistencyLevel:s.IVssReadConsistencyLevel.Eventual}):this._tfsReadOnlyClientForGetCoverageSummary=e.getRestClient("ITestRestClient"),(0,o.isFeatureFlagEnabled)(e,"WebAccess.TestManagement.QueryTestHistory.EnableSqlReadReplica",!1)?this._clientQueryTestHistoryReadOnly=e.getRestClient("ITestResultsRestClient",{readConsistencyLevel:s.IVssReadConsistencyLevel.Eventual}):this._clientQueryTestHistoryReadOnly=e.getRestClient("ITestResultsRestClient")}queryTestResultsReportForBuild(e,t,s){return this._client.queryTestResultsReportForBuild(this._projectName,e,t,s).then((e=>e),(e=>(console.log(e),Promise.resolve(null))))}getTestResultsByGroupForBuild(e,t,s,r,n,u,o){return this._client.getTestResultDetailsForBuild(this._projectName,e,t,s,r,n,u,o).then((e=>e),(e=>(console.log(e),Promise.resolve(null))))}getTestResultsByGroupForRelease(e,t,s,r,n,u,o,i){return this._client.getTestResultDetailsForRelease(this._projectName,e,t,s,r,n,u,o,i)}getTestResultsByQuery(e){return this._client.getTestResultsByQuery(e,this._projectName)}getResultById(e,t,s){return this._client.getTestResultById(this._projectName,e,t,s||0)}getTestRunById(e,t,s){return this._isTCMClient?this._client.getTestRunById(this._projectName,e,t,s):this._client.getTestRunById(this._projectName,e,t)}getCodeCoverageSummary(e){return this._tfsReadOnlyClientForGetCoverageSummary.getCodeCoverageSummary(this._projectName,e)}getFolderViewCodeCoverage(e){return this._client.fetchSourceCodeCoverageReport(this._projectName,e)}getBuildCodeCoverage(e,t){return this._tfsReadOnlyClientForGetBuildCoverage.getBuildCodeCoverage(this._projectName,e,t)}getCustomTestFields(e){return this._client.queryCustomFields(this._projectName,e)}addCustomTestFields(e){return this._client.addCustomFields(e,this._projectName)}updateCustomTestField(e){return this._client.updateCustomField(e,this._projectName)}deleteCustomTestFieldByID(e){return this._client.deleteCustomFieldById(this._projectName,e)}getTestResultsByBuildWithContinuationToken(e,t,s,r,n){return this._extendedClient.getTestResultsByBuildWithContinuationToken(this._projectName,e,t,s,r,n)}getTestResultsByPipeline(e,t,s,r,n,u,o,i){return this._client.getTestResultsByPipeline(this._projectName,e,t,s,r,n,u,o,i)}getTestResultsByReleaseWithContinuationToken(e,t,s,r,n,u){return this._extendedClient.getTestResultsByReleaseWithContinuationToken(this._projectName,e,t,s,r,n,u)}getResultGroupsByBuild(e,t,s,r){return this._extendedClient.getResultGroupsByBuildWithContinuationToken(this._projectName,e,t,s,r)}getResultGroupsByRelease(e,t,s,r,n){return this._extendedClient.getResultGroupsByReleaseWithContinuationToken(this._projectName,e,s,t,r,n)}queryTestHistory(e){return this._clientQueryTestHistoryReadOnly.queryTestHistory(e,this._projectName)}getRecentBugs(e,t,s){return this._client.queryTestResultWorkItems(this._projectName,"Microsoft.BugCategory",e,t,void 0,s)}getAssociatedBugs(e,t){return this._client.getBugsLinkedToTestResult(this._projectName,e,t)}deleteTestMethodToWorkItemLink(e,t){return this._client.deleteTestMethodToWorkItemLink(this._projectName,e,t)}getTestMethodLinkedWorkItems(e){return this._client.queryTestMethodLinkedWorkItems(this._projectName,e)}getTestRunAttachments(e){return this._client.getTestRunAttachments(this._projectName,e)}getTestResultAttachments(e,t){return this._client.getTestResultAttachments(this._projectName,e,t)}getTestSubResultAttachments(e,t,s){return this._client.getTestSubResultAttachments(this._projectName,e,t,s)}getTestRunAttachmentContent(e,t){return this._client.getTestRunAttachmentContent(this._projectName,e,t)}getTestResultAttachmentContent(e,t,s){return this._client.getTestResultAttachmentContent(this._projectName,e,t,s)}getTestSubResultAttachmentContent(e,t,s,r){return this._client.getTestSubResultAttachmentContent(this._projectName,e,t,s,r)}getTestRunLogs(e,t,s,r,n,u,o){return this._extendedClient.getTestRunLogs(this._projectName,e,t,s,r,n,u,o)}getTestResultLogs(e,t,s,r,n,u,o,i){return this._extendedClient.getTestResultLogs(this._projectName,e,t,s,r,n,u,o,i)}getTestSubResultLogs(e,t,s,r,n,u,o,i,a){return this._extendedClient.getTestSubResultLogs(this._projectName,e,t,s,r,n,u,o,i,a)}getTestLogStoreEndpointDetailsForRunLog(e,t,s){return this._client.getTestLogStoreEndpointDetailsForRunLog(this._projectName,e,t,s)}getTestLogStoreEndpointDetailsForResultLog(e,t,s,r){return this._client.getTestLogStoreEndpointDetailsForResultLog(this._projectName,e,t,s,r)}getTestLogStoreEndpointDetailsForSubResultLog(e,t,s,r,n){return this._client.getTestLogStoreEndpointDetailsForSubResultLog(this._projectName,e,t,s,r,n)}getTestTagsForBuild(e){return this._client.getTestTagsForBuild(this._projectName,e)}getTestTagsForRelease(e,t){return this._client.getTestTagsForRelease(this._projectName,e,t)}getTestTagSummaryForBuild(e){return this._client.getTestTagSummaryForBuild(this._projectName,e)}getTestTagSummaryForRelease(e,t){return this._client.getTestTagSummaryForRelease(this._projectName,e,t)}updateTestResultsMetaData(e,t){return this._client.updateTestResultsMetaData(t,this._projectName,e)}getTestResultsGroupDetails(e,t,s,r,n,u){return this._client.testResultsGroupDetails(this._projectName,e,t,s,r,n,u)}updateTestResults(e,t){return this._client.updateTestResults(e,this._projectName,t)}getTestResultsSettings(e){return this._client.getTestResultsSettings(this._projectName,e)}updatePipelinesTestSettings(e){return this._client.updatePipelinesTestSettings(e,this._projectName)}getTestResultsMetadata(e,t){return this._client.queryTestResultsMetaData(e,this._projectName,t)}async getSimilarTestResults(e,t,s){return this._client.getSimilarTestResults(this._projectName,e,t,s)}async getTestWeightedScoreByTestRuns(e,t,s){return this._extendedClient.getTestWeightedScoreByTestRuns(this._projectName,e,t,s)}getFlakyTestResultsForTestRun(e){return this._extendedClient.getFlakyTestResultsForTestRun(this._projectName,e)}getTestRunsForBuildID(e){const t="vstfs:///Build/Build/"+e;return this._client.getTestRuns(this._projectName,t)}queryTestRuns(e,t,s,r,n,u,o,i,a,l,p,c,d,m,R,h,T){return this._client.queryTestRuns(this._projectName,e,t,s,r,n,u,o,i,a,l,p,c,d,m,R,h,T)}}t[e].TestManagementService=r,s.Services.add(t[e].TestManagementServiceName,{serviceFactory:r})}("TestManagementServices")}),["RestClient/Extended","RestClient/ExtendedTcm","RestClient/Test","RestClient/TestResults","RestClient/TestResultsMvcRestClient","TestManagementServices"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-test-web.common-client"}}));