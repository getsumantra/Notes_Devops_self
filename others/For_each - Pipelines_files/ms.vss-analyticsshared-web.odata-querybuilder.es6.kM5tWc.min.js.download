"use strict";define("Analytics/Shared",["require","exports"],(function(t,e){var r;!function(t){r=e[t]={},e[t].expr=function(t){return new i(t)},e[t].paren=function(t){return(new i).paren(t)};class i{constructor(t){this._filterExpression=t,this._expectExpr=!0,this._expectOperator=!!this._filterExpression,this._expectExpr=!this._filterExpression,this._filterExpression=this._filterExpression||""}get and(){return this.operator("and")}get or(){return this.operator("or")}expr(t){return t&&(this.throwIfExprNotExpected(),this._filterExpression+=t,this._expectOperator=!0,this._expectExpr=!1),this}paren(t){return t&&(this.throwIfExprNotExpected(),this._filterExpression+=`(${t.toString()})`,this._expectExpr=!1,this._expectOperator=!0),this}toString(){return this._filterExpression}reverseExprStatus(){return this._expectExpr=!this._expectExpr,this}throwIfOperatorNotExpected(){if(!this._expectOperator)throw new Error(`operator is not expected. Expression: ${this._filterExpression}`)}throwIfExprNotExpected(){if(!this._expectExpr)throw new Error(`expression is not expected. Expression: ${this._filterExpression}`)}operator(t){return this.throwIfOperatorNotExpected(),this._filterExpression+=` ${t} `,this._expectExpr=!0,this._expectOperator=!1,this}}e[t].FilterExpression=i}("FilterExpression"),function(t){e[t]={};e[t].ODataQuery=class{constructor(){this._orderBy="",this._apply=""}get orderby(){return this._orderBy}get apply(){return this._apply}filter(t){return t&&(this.throwIfAggregateExpected(),this.apply&&(this._apply+=" / "),t instanceof r.FilterExpression?this._apply+=`filter(${t.toString()})`:this._apply+=`filter(${t})`),this}groupBy(...t){return t&&t.length>0&&(this.throwIfAggregateExpected(),this.apply&&(this._apply+=" / "),this._apply+=`groupby((${t.join(",")})`,this._expectAggregateAfterGroupBy=!0),this}aggregate(...t){if(t&&t.length>0){const e=`aggregate(${t.join(",")})`;this._expectAggregateAfterGroupBy?(this._apply+=`, ${e})`,this._expectAggregateAfterGroupBy=!1):(this._apply&&(this._apply+=" / "),this._apply+=e)}return this}orderBy(t,e){return t&&(this.throwIfAggregateExpected(),this._orderBy=`${t} ${e}`),this}compute(t){if(t&&t.length>0){const e=`compute(${t})`;this._apply&&(this._apply+=" / "),this._apply+=e}return this}throwIfAggregateExpected(){if(this._expectAggregateAfterGroupBy)throw new Error(`aggregate is expected after group by. Sub query: ${this._apply}`)}}}("QueryBuilder")}),["FilterExpression","QueryBuilder"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-analyticsshared-web.odata-querybuilder"}}));