"use strict";define("Test/common-util",["require","exports","Tfs/Platform/Page","VSS/Core/Util/String"],(function(e,t,r,s){var a,n,i,o;a=t[o="Resources"]={},t[o].DayFormat="{0}d",t[o].HourFormat="{0}h",t[o].MinuteFormat="{0}m",t[o].SecondFormat="{0}s",t[o].MillisecondFormat="{0}ms",t[o].UnspecifiedText="Unspecified",t[o].AllText="All",t[o].PriorityText="Priority",t[o].NotAssociatedText="NotAssociated",t[o].TestOutcome_Result_Unspecified="Unspecified",t[o].TestOutcome_Passed="Passed",t[o].TestOutcome_Failed="Failed",t[o].TestOutcome_Others="Others",t[o].TestOutcome_None="None",t[o].TestOutcome_Inconclusive="Inconclusive",t[o].TestOutcome_Timeout="Timeout",t[o].TestOutcome_Aborted="Aborted",t[o].TestOutcome_PassedOnRerun="Passed on rerun",t[o].TestOutcome_Blocked="Blocked",t[o].TestOutcome_NotExecuted="Not executed",t[o].TestOutcome_Warning="Warning",t[o].TestOutcome_Error="Error",t[o].TestOutcome_NotApplicable="Not Applicable",t[o].TestOutcome_Paused="Paused",t[o].TestOutcome_InProgress="In Progress",t[o].TestOutcome_NotImpacted="Not Impacted",t[o].ResultOutcomeInfo="{0} {1}",t[o].ResultGridHeader_Duration="Duration",t[o].NotAvailableText="not available",t[o].ResultGridHeader_FailingRelease="Failing since release",t[o].ResultGridHeader_FailingBuild="Failing since build",t[o].ResultGridHeader_FailingSince="Failing since",t[o].ResultOutcomeAndMachineNameInfo="{0} {1} on {2}",t[o].Owner="Owner",t[o].DebugPivotLabel="Debug",t[o].CommentsText="Comments",t[o].ErrorMessageLabel="Error message",t[o].EnterFullScreenModeText="Enter full screen mode",t[o].ExitFullScreenModeText="Exit full screen mode",t[o].CloseDetailsPane="Close test result details",t[o].CloseOverlayPanel="Close panel",t[o].StackTraceLabel="Stack trace",t[o].WorkItemsText="Work items",t[o].AttachmentsHeaderText="Attachments",t[o].HistoryHeaderText="History",t[o].LoadingTestResultDetailsLabel="Loading details...",t[o].TagsText="Tags",t[o].ResultHeader_DateStarted="Date started",t[o].ResultHeader_DateCompleted="Date completed",t[o].Header_Information="Result Details",function(e){n=t[e]={};class r{}t[e].TestReportColorPalette=r,r.Failed="#DA0A00",r.Passed="#107C10",r.Aborted="#F15854",r.NotExecuted="#828282",r.NotImpacted="#FFB900",r.OtherOutcome="#BFBFBF",r.ExistingFailures="#F5A9A9",r.Duration="#5DA5DA",r.TotalTests="#B276B2",r.AbortedForLegend="#A80000",function(e){e[e.Build=0]="Build",e[e.Release=1]="Release",e[e.ExploratorySession=2]="ExploratorySession",e[e.WorkItem=3]="WorkItem",e[e.Unsupported=4]="Unsupported"}(t[e].ViewContext||(t[e].ViewContext={})),function(e){e[e.InProgress=0]="InProgress",e[e.Completed=1]="Completed",e[e.Others=2]="Others"}(t[e].ViewContextStatus||(t[e].ViewContextStatus={}));class s{}t[e].Constants=s,s.buildReportsDataproviderId="ms.vss-test-web.test-tab-build-summary-data-provider",s.buildTestPivotProviderId="ms.vss-test-web.build-test-results-tab",s.releaseTestPivotProviderId="ms.vss-test-web.release-test-results-tab",s.OTHER_OUTCOME_LIST=[7,10,4,13,1,11,8,12,5,0,9],function(e){e.Group_By_Container="AutomatedTestStorage",e.Group_By_Test_Run="TestRun",e.Group_By_Requirement="Requirement",e.Group_By_Test_Suite="TestSuite",e.Group_By_Priority="Priority",e.Group_By_Owner="Owner",e.Group_By_None=""}(t[e].TestResultsGroupPivots||(t[e].TestResultsGroupPivots={})),function(e){e.Build="ms.vss-test-web.build-test-results-tab",e.Release="ms.vss-test-web.test-result-in-release-environment-editor-tab",e.Pipeline="ms.vss-test-web.unified-test-results-tab",e.AX="ms.vss-test-analytics-web.new-test-analytics-hub"}(t[e].ContributionSource||(t[e].ContributionSource={}));class a{}t[e].FeatureFlagConstants=a,a.QueryFromTcmService="WebAccess.TestManagement.QueryFromTcmService",a.TriReportCustomization="TestManagement.Server.TRIReportCustomization",a.InProgressRefreshUsingSignalREnabled="TestManagement.Server.SignalRReportingRuns",a.WebAccessTestManagementFiltersForRerun="WebAccess.TestManagement.FiltersForRerun",a.PublishOnTcmService="TestManagement.Server.EnablePublishOnTcmService",a.TestTabInNewWebPlatform="WebAccess.TestManagement.TestTabInNewWebPlatform",a.EnableTestFlakiness="TestManagement.Server.EnableTestFlakiness",a.ShowTestProjectSettings="TestManagement.Server.ShowTestProjectSettings",a.AssociateToTestCase="WebAccess.TestManagement.AssociateTestPlanToTestCase",a.EnableFetchAllResultsUntilMegaBatchSize="TestManagement.Server.FetchAllResultsUntilMegaBatchSize",a.IncludeAllBuildRuns="TestManagement.Server.ResultsByPipelineIncludeAllBuildRuns",a.EnableFilteringMessage="TestManagement.Server.EnableTestResultsFilteringMessage",a.ShowCloudTestLink="WebAccess.TestManagement.ShowCloudTestLink",a.CTUrlSharing="WebAccess.TestManagement.CTUrlSharing",a.NWPMigrationForPickList="WebAccess.TestManagement.EnableNWPMigrationInTCMForPickListToDropdown",a.NWPMigrationForTree="WebAccess.TestManagement.EnableNWPMigrationInTCMForTree",a.TestHistoryHistogramAccessibilityBugFix="WebAccess.TestManagement.EnableTestHistoryHistogramAccessibilityBugFix",a.DisplayAsLink="WebAccess.TestManagement.DisplayAsLink",a.ShrinkMenuBasedOnWindow="TestManagement.Server.ShrinkMenuBasedOnWindow";class i{}t[e].SourceWorkflow=i,i.BUILD_SOURCE_WORKFLOW="CI",i.RELEASE_SOURCE_WORKFLOW="CD";class o{}t[e].FilterByFields=o,o.Outcome="Outcome",o.Owner="Owner",o.Container="AutomatedTestStorage",o.TestCaseName="TestCaseName",o.TestRun="TestRun",o.Branch="Branch",o.Tags="Tags",o.Stages="Stages",o.TestRunId="TestRunId";class l{}t[e].TestResultsOutcomeFilterPivots=l,l.Filter_By_All="All",l.Filter_By_Failed="Failed",l.Filter_By_Passed="Passed",l.Filter_By_Others="Others",l.Filter_By_NotImpacted="NotImpacted",l.Filter_By_PassedOnRerun="PassedOnRerun",l.Filter_By_Aborted="Aborted";class u{}t[e].ColumnIndices=u,u.Outcome="outcome",u.NewFailure="newFailures",u.Test="test",u.FailingSince="failingSince",u.FailingBuild="failingBuild",u.Duration="duration",u.DateStarted="dateStarted",u.DateCompleted="dateCompleted",u.Owner="owner",u.FailingRelease="failingRelease",u.EnvironmentName="environmentName",u.Tags="tags";t[e].IconDetails=class{},function(e){e[e.Unspecified=0]="Unspecified",e[e.None=1]="None",e[e.Passed=2]="Passed",e[e.Failed=3]="Failed",e[e.Inconclusive=4]="Inconclusive",e[e.Timeout=5]="Timeout",e[e.Aborted=6]="Aborted",e[e.Blocked=7]="Blocked",e[e.NotExecuted=8]="NotExecuted",e[e.Warning=9]="Warning",e[e.Error=10]="Error",e[e.NotApplicable=11]="NotApplicable",e[e.Paused=12]="Paused",e[e.InProgress=13]="InProgress",e[e.NotImpacted=14]="NotImpacted",e[e.Others=15]="Others"}(t[e].TestOutcomeEnum||(t[e].TestOutcomeEnum={})),function(e){e[e.None=0]="None",e[e.Marked=1]="Marked",e[e.Unmarked=2]="Unmarked"}(t[e].TestResultFlakyState||(t[e].TestResultFlakyState={}));class d{constructor(e,t){this.testRunId=e,this.testResultId=t}equals(e){return!!(this.testRunId&&this.testResultId&&e)&&(this.testRunId===e.testRunId&&this.testResultId===e.testResultId)}toString(){let e=this.testRunId.toString();return e=e.concat(":"),e=e.concat(this.testResultId.toString()),e.toString()}}t[e].TestCaseResultIdentifier=d;t[e].TestCaseResultIdentifierWithDuration=class extends d{constructor(e,t,r){super(e,t),this.durationInMs=r}}}("Common"),function(e){t[e]={};class n{static _getDurationObject(e){let t=e.split("."),r=0;t[0]&&t[1]&&t[1].indexOf(":")>0&&(r=parseInt(t[0]),e=t[1]),t=(e=e.replace(".",":")).split(":");let s=0;if(t[3]){const e=parseFloat("."+t[3]);s=Math.round(1e3*e)}return{days:r,hours:t[0]?parseInt(t[0]):0,minutes:t[1]?parseInt(t[1]):0,seconds:t[2]?parseInt(t[2]):0,milliseconds:s}}static getPercentageInDisplayFormat(e,t=2){return(0,s.format)("{0}%",n.getCustomizedDecimalValueInCurrentLocale(e,t))}static getPercentageInDisplayFormatWithoutSymbol(e,t=2){return n.getCustomizedDecimalValueInCurrentLocale(e,t)}static parseDuration(e){let t,r;return r=n._getDurationObject(e),t="",t=r.days>0?(0,s.localeFormat)("{0} {1}",(0,s.localeFormat)(a.DayFormat,r.days),r.hours>0?(0,s.localeFormat)(a.HourFormat,r.hours):""):r.hours>0?(0,s.localeFormat)("{0} {1}",(0,s.localeFormat)(a.HourFormat,r.hours),r.minutes>0?(0,s.localeFormat)(a.MinuteFormat,r.minutes):""):r.minutes>0?(0,s.localeFormat)("{0} {1}",(0,s.localeFormat)(a.MinuteFormat,r.minutes),r.seconds>0?(0,s.localeFormat)(a.SecondFormat,r.seconds===Math.round(r.seconds)?r.seconds.toString():r.seconds.toFixed(2)):""):r.seconds>0?(0,s.localeFormat)("{0} {1}",(0,s.localeFormat)(a.SecondFormat,r.seconds),r.milliseconds>0?(0,s.localeFormat)(a.MillisecondFormat,r.milliseconds):""):0===r.milliseconds?(0,s.localeFormat)(a.SecondFormat,0):(0,s.localeFormat)(a.MillisecondFormat,r.milliseconds),t}static isZeroDuration(e){const t=n._getDurationObject(e);return 0===t.days&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.milliseconds}static parseFailureData(e){const t={newFailures:0,existingFailures:0,totalFailures:0};return t.newFailures=e&&e.newFailures?e.newFailures.count:0,t.existingFailures=e&&e.existingFailures?e.existingFailures.count:0,t.totalFailures=t.newFailures+t.existingFailures,t}static getDurationInMilliseconds(e){const t=n._getDurationObject(e);return 24*t.days*60*60*1e3+60*t.hours*60*1e3+60*t.minutes*1e3+1e3*t.seconds+t.milliseconds}static getDurationInSeconds(e){const t=n._getDurationObject(e);return 24*t.days*60*60+60*t.hours*60+60*t.minutes+t.seconds}static getDurationInMinutes(e){const t=n._getDurationObject(e);return 24*t.days*60+60*t.hours+t.minutes+parseFloat((t.seconds/60).toFixed(2))}static getDurationInHours(e){const t=n._getDurationObject(e);return 24*t.days+t.hours+parseFloat((t.minutes/60).toFixed(2))}static getCustomizedDecimalValueInCurrentLocale(e,t){return this.getCustomizedDecimalValue(e,t).toLocaleString()}static getCustomizedDecimalValue(e,t=2){let r=t;return r=Math.pow(10,r),Math.floor(e*r)/r}}t[e].TestReportDataParser=n;class i{static convertShallowTestResultToTestCaseResult(e){return{id:e.id,durationInMs:e.durationInMs,testRun:{id:e.runId.toString()},testCaseReferenceId:e.refId}}static ConvertMilliSecondsToReadableFormatForResultSummary(e){let t,r,a;a=Math.floor(e/1e3),e=Math.floor(e%1e3),r=Math.floor(a/60),a%=60,t=Math.floor(r/60),r%=60,r<10&&(r="0"+r),a<10&&(a="0"+a);const n=i.getMillisecondsFormatForDuration(e);return(0,s.format)("{0}:{1}:{2}.{3}",t,r,a,n)}static getMillisecondsFormatForDuration(e){let t;return t=e<10?"00"+e:e<100?"0"+e:""+e,t}}function o(e,t){t=t||l;const r=Array.from(new Set(e));return r.sort(t),r}function l(e,t){return e==t?0:e>t?1:-1}t[e].TCMContractsConverter=i,t[e].first=function(e,t){if(e&&0!==e.length)return void 0===t?e[0]:e.find(t)},t[e].union=function(e,t,r){let s;return t&&0!==t.length?(s=e.concat(t),s=o(s,r),s):e},t[e].uniqueSort=o,t[e].defaultComparer=l;t[e].IconDetails=class{},t[e].hasArtifactChanged=function(e,t){return e.status!==t.status||(e.data.mainData.id!==t.data.mainData.id||!(!e.data.subData||!t.data.subData||e.data.subData.environment.id===t.data.subData.environment.id))},t[e].getProjectName=function(e){const t=(0,r.getTFSPageData)(e);return t&&t.project?t.project.name:""}}("CommonUtils"),function(e){t[e]={};t[e].FilterHelper=class{static getInitialFilterState(){const e={};let t=[];return t.push(n.TestResultsOutcomeFilterPivots.Filter_By_Aborted),t.push(n.TestResultsOutcomeFilterPivots.Filter_By_Failed),e[n.FilterByFields.Outcome]={values:t},e}static generateFilterString(e){let t=[];for(let r in e){let a=e[r];if(a.values.length){let e;switch(a.values.sort(),r){case n.FilterByFields.Outcome:e="Outcome eq {0}";let r=a.values.map((e=>this._getOutcomeFilterString(e)));t.push((0,s.format)(e,r.join(",")));break;case n.FilterByFields.Owner:e="Owner eq {0}";let i=a.values.join(",");(0,s.equals)(i,"")&&(i=","),t.push((0,s.format)(e,i));break;case n.FilterByFields.Container:e="AutomatedTestStorage eq {0}";let o=a.values.join(",");(0,s.equals)(o,"")&&(o=","),t.push((0,s.format)(e,o))}}}return t.join(" and ")}static _getOutcomeFilterString(e){return e===n.TestResultsOutcomeFilterPivots.Filter_By_Others?n.Constants.OTHER_OUTCOME_LIST.join(","):e}static getSearchText(e){if(e&&e.hasOwnProperty(n.FilterByFields.TestCaseName)){let t=e[n.FilterByFields.TestCaseName];if(t.values.length)return t.values.join(",")}return null}static isTagFilterEnabled(e){return!(!e||!e.hasOwnProperty(n.FilterByFields.Tags))}}}("FilterHelper"),function(e){t[e]={},t[e].Area="TestManagement",t[e].TestResultsInBuildTimeLine_SummaryDetails="VSO.TFS.TRA.TestResultInBuildTimeLine_SummaryDetails",t[e].TestPivotInBuildLoad=n.Constants.buildTestPivotProviderId,t[e].TestPivotInReleaseLoad=n.Constants.releaseTestPivotProviderId,t[e].TestSummaryLoaded="test-summary-loaded",t[e].TestResultDetailsViewLoaded="VSO.TFS.TRA.TestResultsInTestTab.NavigateResultDetails"}("TCMPerfScenarios"),function(e){i=t[e]={},t[e].buildContext="Build",t[e].releaseContext="Release",t[e].areaTestManagement="TestManagement",t[e].inProgress="InProgress",t[e].completed="Completed",t[e].others="Others",t[e].totalTests="TotalTests",t[e].failedTests="FailedTests",t[e].passedTests="PassedTests",t[e].totalTestsExists="TotalTestsExists",t[e].failedTestsExists="FailedTestsExists",t[e].eventClicked="Clicked",t[e].workflow="Workflow",t[e].id="Id",t[e].featureTestTab_SignalRRefreshed="NewTestTab_SignalRRefreshed",t[e].featureTimelineInBuild="BuildTimeline",t[e].featureTestTab_Filter="NewTestTab_Filter",t[e].featureTestTab_FilterButtonClicked="NewTestTab_FilterButtonClicked",t[e].featureTestTab_BuildLinkClicked="NewTestTab_BuildLinkClicked",t[e].featureTestTab_ReleaseLinkClicked="NewTestTab_ReleaseLinkClicked",t[e].featureTestTab_TestRowVisited="TestTab_TestRowSingleVisited",t[e].featureTestTab_DetailsPanelClosed="TestTab_DetailsPaneClosed",t[e].featureTestTab_DetailsPanelFullView="TestTab_DetailsPaneFullView",t[e].featureTestTab_DetailsDirectLink="TestTab_DetailsDirectLink",t[e].featureTestTab_ErrorInSummaryDataProvider="TestTab_ErrorInSummaryDataProvider",t[e].featureTestTab_ErrorInResultsGridDataProvider="TestTab_ErrorInResultsGridDataProvider",t[e].featureTestTabSignalR="NewTestTab_SignalR",t[e].featureTestTab_ColumnsChanged="NewTestTab_ColumnsChanged",t[e].featureTestTab_DurationSorted="NewTestTab_DurationSorted",t[e].featureTestTab_ShowMoreTestResultsAfterFilter="NewTestTab_ShowMoreTestResultsAfterFilter",t[e].featureTestTab_InProgressViewRefreshed="NewTestTab_InProgressViewRefreshed",t[e].featureTestTab_SummaryExpandCollapseClicked="NewTestTab_SummaryExpandCollapseClicked",t[e].featureTestTab_GroupByClicked="NewTestTab_GroupByClicked",t[e].featureTestTab_MarkUnMarkFlakyClicked="NewTestTab_MarkUnMarkFlakyClicked",t[e].featureTestTab_FlakyCanceledClicked="NewTestTab__FlakyCanceledClicked",t[e].featureTestTab_AssociateToTestCaseClicked="NewTestTab_AssociateToTestCaseClicked",t[e].featureTestTab_DeleteAssociationToTestCaseClicked="NewTestTab_DeleteAssociateToTestCaseClicked",t[e].featureTestTab_AssociateToTestCaseDismissClicked="NewTestTab_AssociateToTestCaseDismissClicked",t[e].featureTestTab_AssociateToTestCaseError="NewTestTab_AssociateToTestCaseError",t[e].featureTestTab_TestTabClicked="NewTestTab_TestTabClicked",t[e].featureTestTab_TestTabWithOnlyNotReportedTests="NewTestTab_TestTabWithOnlyNotReportedTests",t[e].featureTestTab_summaryInBuildTimelineRendered="NewTestTab_SummaryInBuildTimelineRendered",t[e].featureResultsListView_SelectionOfHierarchicalResults="ResultsListView_SelectionOfHierarchicalResults",t[e].featureAnalyticsInProductLink_PassRate_SummarySection="AnalyticsInProductLink_PassRate_SummarySection",t[e].featureAnalyticsInProductLink_UniqueFailingTests_TestTab="AnalyticsInProductLink_UniqueFailingTests_TestTab",t[e].featureTestTab_TestInAzurePipelineFwLinkClicked="NewTestTab_TestInAzurePipelineFwLinkClicked",t[e].featureTestManagement_CustomFieldsView="TestManagement_CustomFieldsView",t[e].featureTestManagement_CustomTestFieldCreated="TestManagement_CustomTestFieldCreated",t[e].featureNewTestRunsHub="NewTestRunsHub",t[e].featureNewTestRunsListPage="NewTestRunsListPage",t[e].featureTestRunPage="TestRunPage",t[e].featureTestResultsPage="TestResultsPage",t[e].featureRunSummaryCard="RunSummaryCard",t[e].featureZeroTestCaseResultsCard="ZeroTestCaseResultsCard",t[e].featureTestCaseResultsCard="TestCaseResultsCard",t[e].featureTestRunPageBreadcrumb="TestRunPageBreadcrumb",t[e].featureTestResultsPageBreadcrumb="TestResultsPageBreadcrumb",t[e].featureFilteredTestCaseResultsZeroDataCard="FilteredTestCaseResultsZeroDataCard",t[e].featureTestCaseResultsFilterBar="TestCaseResultsFilterBar",t[e].featureWorkItemPanelZeroDataComponent="WorkItemPanelZeroDataComponent",t[e].featureRunSummaryTab="RunSummaryTab",t[e].featureTestRunAttachmentsTab="TestRunAttachmentsTab",t[e].featureAnalyticsTab="AnalyticsTab",t[e].featureTestRunPageZeroCard="TestRunPageZeroCard",t[e].featureTestResultIterationsProcessor="TestResultIterationsProcessor",t[e].featureTestResultIterations="TestResultIterations",t[e].featureTestResultPage="TestResultPage",t[e].featureTestResultAttachmentsTab="TestResultAttachmentsTab",t[e].featureTestCaseResultsList="TestCaseResultsList",t[e].featureTestResultAttachmentDownload="TestResultAttachmentDownload",t[e].featurePopulateBuildsDefinition="populateBuildsDefinition",t[e].featurePopulateBuildsForDefinition="populateBuildsForDefinition",t[e].featureGettingTestResultsByPipeline="GettingTestResultsByPipeline",t[e].pageOpenedTestRunsListPage="TestRunsListPageOpened",t[e].pageOpenedTestRunPage="TestRunPageOpened",t[e].pageOpenedTestResultPage="TestResultPageOpened",t[e].OnLoadedTestRunsHub="TestManagement.NewTestRuns.TestRunsHub",t[e].OnLoadedTestResultPageSummary="TestManagement.NewTestRuns.TestResultPageSummary",t[e].OnLoadedTestRunPageAnalytics="TestManagement.NewTestRuns.TestRunPageAnalytics",t[e].OnLoadedTestRunPageAttachments="TestManagement.NewTestRuns.TestRunPageAttachments",t[e].OnLoadedTestRunPageSummary="TestManagement.NewTestRuns.TestRunPageSummary",t[e].OnLoadedTestResultPageAttachments="TestManagement.NewTestRuns.TestResultPageAttachments",t[e].testRunClickedFromTestRunsListTable="TestRunClickedFromTestRunsListTable",t[e].errorRedirectingToTestRunPage="ErrorRedirectingToTestRunPage",t[e].sortOrderReset="SortOrderReset",t[e].errorResettingSortOrder="ErrorResettingSortOrder",t[e].filteredTestRunsFetched="FilteredTestRunsFetched",t[e].errorFetchingFilteredTestRuns="ErrorFetchingFilteredTestRuns",t[e].errorGettingFilteredTestRuns="ErrorGettingFilteredTestRuns",t[e].errorGettingExistingFilteredTestRuns="ErrorGettingExistingFilteredTestRuns",t[e].errorApplyingClientSideSorting="ErrorApplyingClientSideSorting",t[e].clientSideFiltersApplied="ClientSideFiltersApplied",t[e].errorApplyingClientSideFilters="ErrorApplyingClientSideFilters",t[e].errorSettingDefaultFilterState="ErrorSettingDefaultFilterState",t[e].errorUpdatingTableColumnFieldsAndOptions="ErrorUpdatingTableColumnFieldsAndOptions",t[e].filterToggled="FilterToggled",t[e].initialTestRunsDataFetched="InitialTestRunsDataFetched",t[e].errorFetchingInitialTestRunsData="ErrorFetchingInitialTestRunsData",t[e].testRunsListPaginated="TestRunsListPaginated",t[e].errorPaginatingTestRunsList="ErrorPaginatingTestRunsList",t[e].errorConvertingToQueryJsonClauses="ErrorConvertingToQueryJsonClauses",t[e].filterStateSaved="FilterStateSaved",t[e].columnWidthsSaved="ColumnWidthsSaved",t[e].errorUpdatingFilterState="ErrorUpdatingFilterState",t[e].errorSavingFilterState="ErrorSavingFilterState",t[e].errorFetchingInitialFilterState="ErrorFetchingInitialFilterState",t[e].errorFetchingInitialColumnWidths="ErrorFetchingInitialColumnWidths",t[e].errorUpdatingColumnFieldWithSavedWidths="ErrorUpdatingColumnFieldWithSavedWidths",t[e].errorSavingColumnWidths="ErrorSavingColumnWidths",t[e].errorPopulatingBuildForTestRunsData="ErrorPopulatingBuildForTestRunsData",t[e].errorPopulatingBuildTestRunsData="ErrorPopulatingBuildTestRunsData",t[e].errorGettingTestResultsByPipeline="ErrorGettingTestResultsByPipeline",t[e].testPlanLinkClicked="TestPlanLinkClicked",t[e].pipelineRunLinkClicked="PipelineRunLinkClicked",t[e].releaseLinkClicked="ReleaseLinkClicked",t[e].releaseStageLinkClicked="ReleaseStageLinkClicked",t[e].errorGeneratingTestRunPageUrl="ErrorGeneratingTestRunPageUrl",t[e].errorGeneratingTestPlanUrl="ErrorGeneratingTestPlanUrl",t[e].errorGeneratingBuildUrl="ErrorGeneratingBuildUrl",t[e].errorGeneratingReleaseUrl="ErrorGeneratingReleaseUrl",t[e].errorGeneratingReleaseEnvironmentLogsUrl="ErrorGeneratingReleaseEnvironmentLogsUrl",t[e].errorGeneratingTestResultPageUrl="ErrorGeneratingTestResultPageUrl",t[e].errorGeneratingTestSuiteUrl="ErrorGeneratingTestSuiteUrl",t[e].errorGeneratingTestCaseWITFormUrl="ErrorGeneratingTestCaseWITFormUrl",t[e].testRunCommentUpdated="TestRunCommentUpdated",t[e].errorUpdatingTestRunComment="ErrorUpdatingTestRunComment",t[e].testResultClickedFromTestResultsListTable="TestResultClickedFromTestResultsListTable",t[e].commentButtonClicked="CommentButtonClicked",t[e].errorFetchingStatusData="ErrorFetchingStatusData",t[e].columnSorted="ColumnSorted",t[e].errorSortingColumn="ErrorSortingColumn",t[e].filtersReset="FiltersReset",t[e].errorRedirectingToResultsPage="ErrorRedirectingToResultsPage",t[e].filtersApplied="FiltersApplied",t[e].errorApplyingFilters="ErrorApplyingFilters",t[e].errorSettingFilterDetails="ErrorSettingFilterDetails",t[e].bugButtonClicked="BugButtonClicked",t[e].linkButtonClicked="LinkButtonClicked",t[e].errorUpdatingBugsColumn="ErrorUpdatingBugsColumn",t[e].columnOptionsButtonClicked="ColumnOptionsButtonClicked",t[e].createNewBugClicked="CreateNewBugClicked",t[e].addToExistingBugClicked="AddToExistingBugClicked",t[e].columnResized="ColumnResized",t[e].errorResizingColumn="ErrorResizingColumn",t[e].searchPerformed="SearchPerformed",t[e].searchCleared="SearchCleared",t[e].errorPerformingSearch="ErrorPerformingSearch",t[e].panelOpened="PanelOpened",t[e].errorOpeningPanel="ErrorOpeningPanel",t[e].panelClosed="PanelClosed",t[e].errorOpeningWorkItem="ErrorOpeningWorkItem",t[e].errorGettingWorkItemFormUrl="ErrorGettingWorkItemFormUrl",t[e].resultsLinkedToWorkItems="ResultsLinkedToWorkItems",t[e].errorLinkingResultsToWorkItems="ErrorLinkingResultsToWorkItems",t[e].errorGettingAssignedToIdentityRef="ErrorGettingAssignedToIdentityRef",t[e].workItemsSearched="WorkItemsSearched",t[e].errorSearchingWorkItems="ErrorSearchingWorkItems",t[e].errorFetchingDefaultWorkItems="ErrorFetchingDefaultWorkItems",t[e].errorFetchingWorkItems="ErrorFetchingWorkItems",t[e].reproStepsGenerated="ReproStepsGenerated",t[e].errorGeneratingReproSteps="ErrorGeneratingReproSteps",t[e].bugCreated="BugCreated",t[e].errorCreatingBug="ErrorCreatingBug",t[e].workItemLinksAdded="WorkItemLinksAdded",t[e].errorAddingWorkItemLinks="ErrorAddingWorkItemLinks",t[e].errorGettingBugWorkItemTypeName="ErrorGettingBugWorkItemTypeName",t[e].errorGettingWorkItemTypeData="ErrorGettingWorkItemTypeData",t[e].errorPopulatingWorkItem="ErrorPopulatingWorkItem",t[e].errorPopulatingWorkItemFields="ErrorPopulatingWorkItemFields",t[e].errorPopulatingTitle="ErrorPopulatingTitle",t[e].errorPopulatingReproSteps="ErrorPopulatingReproSteps",t[e].errorPopulatingTags="ErrorPopulatingTags",t[e].errorAddingBuildLink="ErrorAddingBuildLink",t[e].errorLinkingTestCases="ErrorLinkingTestCases",t[e].errorGettingExistingLinks="ErrorGettingExistingLinks",t[e].errorAddingLinkToWorkItem="ErrorAddingLinkToWorkItem",t[e].errorAddingTestResultsLink="ErrorAddingTestResultsLink",t[e].errorAddingTestCaseRefLink="ErrorAddingTestCaseRefLink",t[e].errorEncodingTestCaseRefId="ErrorEncodingTestCaseRefId",t[e].errorRenderingWorkItemIcon="ErrorRenderingWorkItemIcon",t[e].errorRenderingWorkItemState="ErrorRenderingWorkItemState",t[e].readMoreTextClicked="ReadMoreTextClicked",t[e].collapseTextClicked="CollapseTextClicked",t[e].errorRenderingStatusData="ErrorRenderingStatusData",t[e].errorRenderingCommentData="ErrorRenderingCommentData",t[e].errorRenderingStatsData="ErrorRenderingStatsData",t[e].errorFetchingStatsData="ErrorFetchingStatsData",t[e].errorFetchingDataProviderData="ErrorFetchingDataProviderData",t[e].errorFetchingProjectData="ErrorFetchingProjectData",t[e].errorFetchingVssPageData="ErrorFetchingVssPageData",t[e].errorUpdatingUrlOnPivotChange="ErrorUpdatingUrlOnPivotChange",t[e].errorGettingAllRunsPageUrl="ErrorGettingAllRunsPageUrl",t[e].errorSettingBreadcrumbAndTitle="ErrorSettingBreadcrumbAndTitle",t[e].tabChanged="TabChanged",t[e].viewAllRunsClicked="ViewAllRunsClicked",t[e].errorRedirectingToAllRunsPage="ErrorRedirectingToAllRunsPage",t[e].testCaseResultsFetched="TestCaseResultsFetched",t[e].testCaseResultsFiltered="TestCaseResultsFiltered",t[e].errorFilteringTestCaseResults="ErrorFilteringTestCaseResults",t[e].linkedBugsCellClicked="LinkedBugsCellClicked",t[e].errorHandlingLinkedBugsCellClick="ErrorHandlingLinkedBugsCellClick",t[e].bugWorkItemTypeNameFetched="BugWorkItemTypeNameFetched",t[e].errorFetchingBugWorkItemTypeName="ErrorFetchingBugWorkItemTypeName",t[e].groupByChanged="GroupByChanged",t[e].errorLoadingTestResults="ErrorLoadingTestResults",t[e].syncDataLoaded="SyncDataLoaded",t[e].errorLoadingSyncData="ErrorLoadingSyncData",t[e].backgroundLoadingCompleted="BackgroundLoadingCompleted",t[e].errorLoadingBackgroundBatch="ErrorLoadingBackgroundBatch",t[e].errorBackgroundLoading="ErrorBackgroundLoading",t[e].asyncOutcomeDataLoaded="AsyncOutcomeDataLoaded",t[e].errorLoadingAsyncOutcomeData="ErrorLoadingAsyncOutcomeData",t[e].featureTestResultNavPanel="TestResultNavPanel",t[e].testResultsListPanelRendered="TestResultsListPanelRendered",t[e].testResultsListPanelSearch="TestResultsListPanelSearch",t[e].testResultsListPanelClick="TestResultsListPanelClick",t[e].testResultsListRefresh="TestResultsListRefresh",t[e].errorRefreshingTestResultsList="ErrorRefreshingTestResultsList",t[e].testResultsListPanelBackButtonClick="TestResultsListPanelBackButtonClick",t[e].errorProcessingIterationDetails="ErrorProcessingIterationDetails",t[e].errorFetchingTestCase="ErrorFetchingTestCase",t[e].errorFetchingSharedSteps="ErrorFetchingSharedSteps",t[e].errorTestCaseResultNotFound="ErrorTestCaseResultNotFound",t[e].errorFetchingTestResultAttachments="ErrorFetchingTestResultAttachments",t[e].errorFetchingTestResultsListData="ErrorFetchingTestResultsListData",t[e].errorFetchingTestResultAttachmentCount="ErrorFetchingTestResultAttachmentCount",t[e].testResultIterationsProcessed="TestResultIterationsProcessed",t[e].errorProcessingTestResultIterations="ErrorProcessingTestResultIterations",t[e].featureTestResultLinkedWorkitems="TestResultLinkedWorkitems",t[e].attachmentsFetched="AttachmentsFetched",t[e].errorFetchingAttachments="ErrorFetchingAttachments",t[e].attachmentsDeleted="AttachmentsDeleted",t[e].attachmentDeleted="AttachmentDeleted",t[e].errorDeletingAttachment="ErrorDeletingAttachment",t[e].attachmentAdded="AttachmentAdded",t[e].errorAddingAttachment="ErrorAddingAttachment",t[e].attachmentPreviewed="AttachmentPreviewed",t[e].attachmentDownloaded="AttachmentDownloaded",t[e].errorDownloadingAttachment="ErrorDownloadingAttachment",t[e].featureTestResultAnalysisCardForm="TestResultAnalysisCardForm",t[e].featureTestResultAnalysisCard="TestResultAnalysisCard",t[e].errorInitializingAnalysisCardForm="ErrorInitializingAnalysisCardForm",t[e].errorInitializingAnalysisCardSelection="ErrorInitializingAnalysisCardSelection",t[e].errorFetchingFailureTypes="ErrorFetchingFailureTypes",t[e].errorFetchingResolutionStates="ErrorFetchingResolutionStates",t[e].errorSavingTestResultAnalysis="ErrorSavingTestResultAnalysis",t[e].updatedTestResultAnalysis="TestResultAnalysisUpdateSuccess",t[e].iterationAndStepAttachmentsProcessed="IterationAndStepAttachmentsProcessed",t[e].errorProcessingIterationAndStepAttachments="ErrorProcessingIterationAndStepAttachments",t[e].errorRenderingRunSummaryCharts="ErrorRenderingRunSummaryCharts",t[e].errorTestResultDataProviderDataUndefined="ErrorTestResultDataProviderDataUndefined",t[e].errorTestRunDataProviderDataUndefined="ErrorTestRunDataProviderDataUndefined",t[e].errorUpdatingBreadcrumbAndTitle="ErrorUpdatingBreadcrumbAndTitle",t[e].columnOptionsUpdated="ColumnOptionsUpdated",t[e].errorUpdatingColumnOptions="ErrorUpdatingColumnOptions",t[e].featureTestAttachments="TestAttachments",t[e].featureZeroTestAttachmentsTabCard="ZeroTestAttachmentsTabCard",t[e].featureAttachmentPreview="AttachmentPreview",t[e].featureImagePreview="ImagePreview",t[e].featureVideoPreview="VideoPreview",t[e].featurePdfPreview="PdfPreview",t[e].featureTextPreview="TextPreview",t[e].errorLoadingImage="ErrorLoadingImage",t[e].errorLoadingVideo="ErrorLoadingVideo",t[e].errorLoadingPdf="ErrorLoadingPdf",t[e].errorLoadingText="ErrorLoadingText",t[e].pdfRendered="PdfRendered",t[e].errorRenderingPdf="ErrorRenderingPdf",t[e].imageLoaded="ImageLoaded",t[e].videoLoaded="VideoLoaded",t[e].pdfLoaded="PdfLoaded",t[e].textLoaded="TextLoaded",t[e].previewUnavailable="PreviewUnavailable",t[e].previewRendered="PreviewRendered",t[e].featureLinkTestResultsToWorkItemsPanel="LinkTestResultsToWorkItemsPanel",t[e].featureShowLinkedWorkItemsPanel="ShowLinkedWorkItemsPanel",t[e].featureTestResultsWorkItemHelper="TestResultsWorkItemHelper",t[e].workItemLinkedToTestResults="WorkItemLinkedToTestResults",t[e].workItemLinkingToTestResultsFailed="WorkItemLinkingToTestResultsFailed",t[e].workItemSaveAfterLinkingFailed="WorkItemSaveAfterLinkingFailed",t[e].errorVerifyingWorkItemLinks="ErrorVerifyingWorkItemLinks",t[e].featureFlakyTestProjectSettings="FlakyTestProjectSettingsUpdate",t[e].featureFlakyDialogBoxCancellation="FlakyTestSettingsUpdateCancellation",t[e].errorOccurredDuringSignalRConnection="NewTestTab_ErrorOccurredDuringSignalRConnection",t[e].featureNewTestLoggingSettings="NewTestLoggingSettingsUpdate",t[e].featureTestManagementColumnOptions="TestManagementColumnOptions",t[e].columnOptionsPanelOpen="ColumnOptionsPanelOpen",t[e].columnOptionsPanelSubmit="ColumnOptionsPanelSubmit",t[e].columnOptionsReorder="ColumnOptionsReorder",t[e].featureAdvanceTestCaseResultHistory="AdvanceTestCaseResultHistory",t[e].featureTestCaseGenerator_DialogOpened_testai="TestCaseGenerator_DialogOpened_testai",t[e].featureTestCaseGenerator_PanelOpened_testai="TestCaseGenerator_PanelOpened_testai",t[e].errorTestCaseGenerator_FetchingData="ErrorTestCaseGenerator_FetchingData",t[e].errorTestCaseGenerator_ParsingXML="ErrorTestCaseGenerator_ParsingXML",t[e].errorTestCaseGenerator_AddingTestCase="ErrorTestCaseGenerator_AddingTestCase",t[e].errorTestCaseGenerator_GeneratingTestPlan="ErrorTestCaseGenerator_GeneratingTestPlan",t[e].errorTestCaseGenerator_SavingData="ErrorTestCaseGenerator_SavingData",t[e].errorTestCaseGenerator_RefreshingStatus="ErrorTestCaseGenerator_RefreshingStatus",t[e].infoTestCaseGenerator_GenerateTestPlanClicked="InfoTestCaseGenerator_GenerateTestPlanClicked",t[e].infoTestCaseGenerator_TestPlanCreationAttempt="InfoTestCaseGenerator_TestPlanCreationAttempt",t[e].infoTestCaseGenerator_TestPlanCreationSuccess="InfoTestCaseGenerator_TestPlanCreationSuccess",t[e].infoTestCaseGenerator_SingleTestCaseCreationSuccess="InfoTestCaseGenerator_SingleTestCaseCreationSuccess",t[e].infoTestCaseGenerator_OptionalPromptUsed="InfoTestCaseGenerator_OptionalPromptUsed",t[e].sourceTestCaseDialog_fetchTestCaseData="TestCaseDialog_fetchTestCaseData",t[e].sourceTestCaseDialog_parseXmlTestSteps_parser="TestCaseDialog_parseXmlTestSteps_parser",t[e].sourceTestCaseDialog_parseXmlTestSteps="TestCaseDialog_parseXmlTestSteps",t[e].sourceTestCaseDialog_handleAddTestCase="TestCaseDialog_handleAddTestCase",t[e].sourceTestPlanGeneratedPanel_handleBeforeUnload="TestPlanGeneratedPanel_handleBeforeUnload",t[e].sourceTestPlanGeneratedPanel_refreshCreatedStatusFromAttachments="TestPlanGeneratedPanel_refreshCreatedStatusFromAttachments",t[e].sourceTestPlanGeneratedPanel_handleAddTestCase="TestPlanGeneratedPanel_handleAddTestCase",t[e].sourceTestPlanGeneratedPanel_handleGenerateTestPlan="TestPlanGeneratedPanel_handleGenerateTestPlan",t[e].sourceTestPlanGeneratedPanel_saveUpdatedTestPlanData_persist="TestPlanGeneratedPanel_saveUpdatedTestPlanData_persist",t[e].sourceTestPlanGeneratedPanel_saveUpdatedTestPlanData="TestPlanGeneratedPanel_saveUpdatedTestPlanData"}("TelemetryConstants"),function(e){function r(e,t,r,a){try{const s=e.getService("IVssTelemetryService");var o,l,u,d,c;if(t&&t.status){switch(+t.status){case n.ViewContextStatus.InProgress:o=i.inProgress;break;case n.ViewContextStatus.Completed:o=i.completed;break;case n.ViewContextStatus.Others:o=i.others}l=t.data.mainData.id,(u=t.viewContext===n.ViewContext.Release?i.releaseContext:i.buildContext)===i.releaseContext&&(d=t.data.subData.environment.id),c=t.contributionSource}a.artifactType=u,a.artifactId=l,a.artifactStatus=o,a.contributionSource=c,u===i.releaseContext&&(a.artifactStageId=d),s.publishEvent(i.areaTestManagement,r,a)}catch(e){console.error(s.format("[TelemetryService.logProperties]: Error in logging Customer Intelligence data. Error: {0}",e.message))}}t[e]={},t[e].publishEvent=r,t[e].publishDetailsPaneEvents=function(e,t,s,a,n){let i="HalfScreen";s&&(i="FullScreen"),n.DetailsPaneMode=i,r(e,t,a,n)}}("Telemetry"),function(e){t[e]={},t[e].getIconDetails=function(e){return e?s[e]:s[1]},t[e].getFriendlyName=function(e){return r[e]};const r={0:a.TestOutcome_Result_Unspecified,1:a.TestOutcome_None,2:a.TestOutcome_Passed,3:a.TestOutcome_Failed,4:a.TestOutcome_Inconclusive,5:a.TestOutcome_Timeout,6:a.TestOutcome_Aborted,7:a.TestOutcome_Blocked,8:a.TestOutcome_NotExecuted,9:a.TestOutcome_Warning,10:a.TestOutcome_Error,11:a.TestOutcome_NotApplicable,12:a.TestOutcome_Paused,13:a.TestOutcome_InProgress,14:a.TestOutcome_NotImpacted,[n.TestOutcomeEnum.Others]:a.TestOutcome_Others},s={0:{iconName:"Help",className:"icon-inconclusive"},1:{iconName:"Remove",className:"icon-inconclusive"},2:{iconName:"CheckMark",className:"icon-passed"},3:{iconName:"Cancel",className:"icon-failed"},4:{iconName:"Unknown",className:"icon-inconclusive"},5:{iconName:"Clock",className:"icon-inconclusive"},6:{iconName:"CircleStop",className:"icon-failed"},7:{iconName:"Blocked2",className:"icon-failed"},8:{iconName:"NotExecuted",className:"icon-inconclusive"},9:{iconName:"Warning",className:"icon-warning"},10:{iconName:"Error",className:"icon-failed"},11:{iconName:"Blocked",className:"icon-inconclusive"},12:{iconName:"CirclePause",className:"icon-inconclusive"},13:{iconName:"MSNVideos",className:"icon-inprogress"},14:{iconName:"NotImpactedSolid",className:"icon-inconclusive"},[n.TestOutcomeEnum.Others]:{iconName:"Unknown",className:"icon-inconclusive"}}}("TestOutcomeUtils"),function(e){t[e]={};class r{constructor(e,t){this.value=e,this.displayValue=t}}function n(e){return void 0===e.displayValue&&e.value?e.value.toString():e.displayValue?e.displayValue:a.UnspecifiedText}function i(e,t){return(0,s.localeIgnoreCaseComparer)(o(e),o(t))}function o(e){return e?e instanceof r?n(e):e.toString():a.UnspecifiedText}t[e].FilterValueItem=r,t[e].areFilterStatesEqual=function(e,t){if(null==e&&null==t)return!0;if(null==e)return!1;if(null==t)return!1;if(0==Object.keys(e).length&&0==Object.keys(t).length)return!0;if(0==Object.keys(e).length||0==Object.keys(t).length)return!1;let r=Object.keys(e).sort(),a=Object.keys(t).sort();if(!(0,s.equals)(JSON.stringify(r),JSON.stringify(a)))return!1;for(let r in e)if(r in t){let a=e[r].values.sort(i),n=t[r].values.sort(i);if(!(0,s.equals)(JSON.stringify(a),JSON.stringify(n)))return!1;let o=e[r].options,l=t[r].options;if(!(0,s.equals)(JSON.stringify(o),JSON.stringify(l)))return!1}return!0},t[e].getDisplayValue=n,t[e].sortFilterState=function(e){if(!e)return e;for(let t in e){let r=e[t].values.sort(i);e[t].values=r}}}("TestResultsFilteringCommon"),function(e){t[e]={};class r{static getPassTestRate(e){let t=r.getTotalCount(e);return(e[2]?e[2].count:0)/t*100}static getPassedTestStatisticsInPipeline(e){let t={passTestRate:-1,passTestCount:0,totalTestCount:0,totalNotReportedTestCount:0};if(e.resultSummaryByRunState)for(let s of Object.keys(e.resultSummaryByRunState)){const a=e.resultSummaryByRunState[parseInt(s)];if(a&&(3===parseInt(s)||6===parseInt(s))){let e=r.getPassedTestStatisticsInPipelineByRunState(a);t.passTestCount+=e.passTestCount,t.totalTestCount+=e.totalTestCount,t.totalNotReportedTestCount+=e.totalNotReportedTestCount}}return t.totalTestCount>0&&(t.passTestRate=t.passTestCount/t.totalTestCount*100),t}static getPassedTestStatisticsInPipelineByRunState(e){let t={passTestRate:0,passTestCount:0,totalTestCount:0,totalNotReportedTestCount:0};if(e&&e.aggregatedResultDetailsByOutcome){let r=e.aggregatedResultDetailsByOutcome[14]?e.aggregatedResultDetailsByOutcome[14].count:0;t.totalTestCount=e.totalTestCount-r,t.passTestCount=e.aggregatedResultDetailsByOutcome[2]?e.aggregatedResultDetailsByOutcome[2].count:0,t.totalNotReportedTestCount=e.notReportedTestCount}return t}static getTotalCount(e){let t=0;for(let r in e){let s=e[r],a=s.count;s.outcome,t+=a}return t}}t[e].TestSummaryReportUtils=r}("TestSummaryReportUtils")}),["Resources","Common","Common.Utils","FilterHelper","TCMPerfScenarios","TelemetryConstants","Telemetry","TestOutcomeUtils","TestResults.Filtering.Common","TestSummaryReport.Utils"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-test-web.common-util"}}));