"use strict";define("Release/Client",["require","exports","VSS/Platform/Context","VSS/Platform/RestClientBase","VSS/Platform/Util/Serialization"],(function(e,t,s,r,i){!function(){t.RestClientExtended={};const e="x-ms-continuationtoken";class a extends r.RestClientBase{async getReleasesWithToken(t,s,r,a,n,o,p,l,u,c,d,m,R,g,h,I,y,v,j,T,V,f){const b={definitionId:s,definitionEnvironmentId:r,searchText:a,createdBy:n,statusFilter:o,environmentStatusFilter:p,minCreatedTime:l,maxCreatedTime:u,queryOrder:c,$top:d,continuationToken:m,$expand:g,artifactTypeId:h,sourceId:I,artifactVersionId:y,sourceBranchFilter:v,isDeleted:j,tagFilter:T&&T.join(","),propertyFilters:V&&V.join(","),releaseIdFilter:f&&f.join(","),path:R};return this.beginRequest({apiVersion:"5.0-preview.8",routeTemplate:"{project}/_apis/Release/releases",routeValues:{project:t},queryParams:b,returnRawResponse:!0}).then((t=>{const s=t.headers.get(e),r=s&&parseInt(s,10);return t.text().then((e=>({releases:(0,i.deserializeVssJsonObject)(e),continuationToken:r})))}))}async getDeploymentsWithContinuationToken(t,s,r,a,n,o,p,l,u,c,d,m,R,g,h,I){const y={definitionId:s,definitionEnvironmentId:r,createdBy:a,minModifiedTime:n,maxModifiedTime:o,deploymentStatus:p,operationStatus:l,latestAttemptsOnly:u,queryOrder:c,$top:d,continuationToken:m,createdFor:R,minStartedTime:g,maxStartedTime:h,sourceBranch:I};return this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/Release/deployments",routeValues:{project:t},queryParams:y,returnRawResponse:!0}).then((t=>{const s=t.headers.get(e),r=s&&parseInt(s,10);return t.text().then((e=>({deployments:(0,i.deserializeVssJsonObject)(e),continuationToken:r})))}))}}s.RestClients.add("IExtendedReleaseClient",{factory:a,options:{serviceInstanceType:"0000000d-0000-8888-8000-000000000000"}})}(),function(e){t[e]={};class a extends r.RestClientBase{constructor(e){super(e)}async getAgentArtifactDefinitions(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/agentartifacts",routeValues:{project:e,releaseId:t}})}async getApprovals(e,t,s,r,a,n,o,p,l){const u={assignedToFilter:t,statusFilter:s,releaseIdsFilter:r&&r.join(","),typeFilter:a,top:n,continuationToken:o,queryOrder:p,includeMyGroupApprovals:l};return this.beginRequest({apiVersion:"6.0-preview.3",routeTemplate:"{project}/_apis/Release/approvals",routeValues:{project:e},queryParams:u,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(i.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async getApprovalHistory(e,t){return this.beginRequest({apiVersion:"6.0-preview.3",routeTemplate:"{project}/_apis/Release/approvals/{approvalStepId}/history",routeValues:{project:e,approvalStepId:t}})}async getApproval(e,t,s){const r={includeHistory:s};return this.beginRequest({apiVersion:"6.0-preview.3",routeTemplate:"{project}/_apis/Release/approvals/{approvalId}",routeValues:{project:e,approvalId:t},queryParams:r})}async updateReleaseApproval(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.3",method:"PATCH",routeTemplate:"{project}/_apis/Release/approvals/{approvalId}",routeValues:{project:t,approvalId:s},body:e})}async updateReleaseApprovals(e,t){return this.beginRequest({apiVersion:"6.0-preview.3",method:"PATCH",routeTemplate:"{project}/_apis/Release/approvals",routeValues:{project:t},body:e})}async getTaskAttachmentContent(e,t,s,r,i,a,n,o){return this.beginRequest({apiVersion:"6.0-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/records/{recordId}/attachments/{type}/{name}",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,timelineId:i,recordId:a,type:n,name:o}})}async getReleaseTaskAttachmentContent(e,t,s,r,i,a,n,o,p){return this.beginRequest({apiVersion:"6.0-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/plan/{planId}/timelines/{timelineId}/records/{recordId}/attachments/{type}/{name}",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,planId:i,timelineId:a,recordId:n,type:o,name:p}})}async getTaskAttachments(e,t,s,r,i,a){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/attachments/{type}",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,timelineId:i,type:a}})}async getReleaseTaskAttachments(e,t,s,r,i,a){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/plan/{planId}/attachments/{type}",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,planId:i,type:a}})}async getAutoTriggerIssues(e,t,s,r){const i={artifactType:e,sourceId:t,artifactVersionId:s};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/autotriggerissues",routeValues:{project:r},queryParams:i})}async getDeploymentBadge(e,t,s,r){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"_apis/public/Release/badge/{projectId}/{releaseDefinitionId}/{environmentId}/{branchName}",routeValues:{projectId:e,releaseDefinitionId:t,environmentId:s,branchName:r}})}async getReleaseChanges(e,t,s,r,i){const a={baseReleaseId:s,$top:r,artifactAlias:i};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/changes",routeValues:{project:e,releaseId:t},queryParams:a})}async getDefinitionEnvironments(e,t,s){const r={taskGroupId:t,propertyFilters:s&&s.join(",")};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/definitionEnvironments",routeValues:{project:e},queryParams:r})}async createReleaseDefinition(e,t){return this.beginRequest({apiVersion:"6.0-preview.4",method:"POST",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:t},body:e})}async deleteReleaseDefinition(e,t,s,r){const i={comment:s,forceDelete:r};return this.beginRequest({apiVersion:"6.0-preview.4",method:"DELETE",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:e,definitionId:t},queryParams:i})}async getReleaseDefinition(e,t,s,r){const i={propertyFilters:s&&s.join(","),includeDisabled:r};return this.beginRequest({apiVersion:"6.0-preview.4",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:e,definitionId:t},queryParams:i})}async getReleaseDefinitionRevision(e,t,s){const r={revision:s};return this.beginRequest({apiVersion:"6.0-preview.4",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:e,definitionId:t},queryParams:r})}async getReleaseDefinitions(e,t,s,r,a,n,o,p,l,u,c,d,m,R,g){const h={searchText:t,$expand:s,artifactType:r,artifactSourceId:a,$top:n,continuationToken:o,queryOrder:p,path:l,isExactNameMatch:u,tagFilter:c&&c.join(","),propertyFilters:d&&d.join(","),definitionIdFilter:m&&m.join(","),isDeleted:R,searchTextContainsFolderName:g};return this.beginRequest({apiVersion:"6.0-preview.4",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:e},queryParams:h,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(i.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async undeleteReleaseDefinition(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.4",method:"PATCH",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:t,definitionId:s},body:e})}async updateReleaseDefinition(e,t,s){const r={skipTasksValidation:s};return this.beginRequest({apiVersion:"6.0-preview.4",method:"PUT",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:t},queryParams:r,body:e})}async getDeployments(e,t,s,r,a,n,o,p,l,u,c,d,m,R,g,h){const I={definitionId:t,definitionEnvironmentId:s,createdBy:r,minModifiedTime:a,maxModifiedTime:n,deploymentStatus:o,operationStatus:p,latestAttemptsOnly:l,queryOrder:u,$top:c,continuationToken:d,createdFor:m,minStartedTime:R,maxStartedTime:g,sourceBranch:h};return this.beginRequest({apiVersion:"6.0-preview.2",routeTemplate:"{project}/_apis/Release/deployments",routeValues:{project:e},queryParams:I,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(i.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async getDeploymentsForMultipleEnvironments(e,t){return this.beginRequest({apiVersion:"6.0-preview.2",method:"POST",routeTemplate:"{project}/_apis/Release/deployments",routeValues:{project:t},body:e})}async getReleaseEnvironment(e,t,s,r){const i={$expand:r};return this.beginRequest({apiVersion:"6.0-preview.7",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}",routeValues:{project:e,releaseId:t,environmentId:s},queryParams:i})}async updateReleaseEnvironment(e,t,s,r){return this.beginRequest({apiVersion:"6.0-preview.7",method:"PATCH",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}",routeValues:{project:t,releaseId:s,environmentId:r},body:e})}async createDefinitionEnvironmentTemplate(e,t){return this.beginRequest({apiVersion:"6.0-preview.4",method:"POST",routeTemplate:"{project}/_apis/Release/definitions/environmenttemplates",routeValues:{project:t},body:e})}async deleteDefinitionEnvironmentTemplate(e,t){const s={templateId:t};return this.beginRequest({apiVersion:"6.0-preview.4",method:"DELETE",routeTemplate:"{project}/_apis/Release/definitions/environmenttemplates",routeValues:{project:e},queryParams:s})}async getDefinitionEnvironmentTemplate(e,t){const s={templateId:t};return this.beginRequest({apiVersion:"6.0-preview.4",routeTemplate:"{project}/_apis/Release/definitions/environmenttemplates",routeValues:{project:e},queryParams:s})}async listDefinitionEnvironmentTemplates(e,t){const s={isDeleted:t};return this.beginRequest({apiVersion:"6.0-preview.4",routeTemplate:"{project}/_apis/Release/definitions/environmenttemplates",routeValues:{project:e},queryParams:s})}async undeleteReleaseDefinitionEnvironmentTemplate(e,t){const s={templateId:t};return this.beginRequest({apiVersion:"6.0-preview.4",method:"PATCH",routeTemplate:"{project}/_apis/Release/definitions/environmenttemplates",routeValues:{project:e},queryParams:s})}async createFavorites(e,t,s,r){const i={identityId:r};return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/favorites/{scope}",routeValues:{project:t,scope:s},queryParams:i,body:e})}async deleteFavorites(e,t,s,r){const i={identityId:s,favoriteItemIds:r};return this.beginRequest({apiVersion:"6.0-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/Release/favorites/{scope}",routeValues:{project:e,scope:t},queryParams:i})}async getFavorites(e,t,s){const r={identityId:s};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/favorites/{scope}",routeValues:{project:e,scope:t},queryParams:r})}async createFolder(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.2",method:"POST",routeTemplate:"{project}/_apis/Release/folders/{*path}",routeValues:{project:t,path:s},body:e})}async deleteFolder(e,t){return this.beginRequest({apiVersion:"6.0-preview.2",method:"DELETE",routeTemplate:"{project}/_apis/Release/folders/{*path}",routeValues:{project:e,path:t}})}async getFolders(e,t,s){const r={queryOrder:s};return this.beginRequest({apiVersion:"6.0-preview.2",routeTemplate:"{project}/_apis/Release/folders/{*path}",routeValues:{project:e,path:t},queryParams:r})}async updateFolder(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.2",method:"PATCH",routeTemplate:"{project}/_apis/Release/folders/{*path}",routeValues:{project:t,path:s},body:e})}async updateGates(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/Release/gates/{gateStepId}",routeValues:{project:t,gateStepId:s},body:e})}async getReleaseHistory(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/history",routeValues:{project:e,releaseId:t}})}async getInputValues(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/artifacts/inputvaluesquery",routeValues:{project:t},body:e})}async getIssues(e,t,s){const r={sourceId:s};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/issues/{buildId}",routeValues:{project:e,buildId:t},queryParams:r})}async getGateLog(e,t,s,r,i){return this.beginRequest({apiVersion:"6.0-preview.2",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/gates/{gateId}/tasks/{taskId}/logs",routeValues:{project:e,releaseId:t,environmentId:s,gateId:r,taskId:i}})}async getLogs(e,t){return this.beginRequest({apiVersion:"6.0-preview.2",httpResponseType:"application/zip",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/logs",routeValues:{project:e,releaseId:t}})}async getLog(e,t,s,r,i){const a={attemptId:i};return this.beginRequest({apiVersion:"6.0-preview.2",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/tasks/{taskId}/logs",routeValues:{project:e,releaseId:t,environmentId:s,taskId:r},queryParams:a})}async getTaskLog2(e,t,s,r,i,a,n,o){const p={startLine:n,endLine:o};return this.beginRequest({apiVersion:"6.0-preview.2",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/tasks/{taskId}/logs",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,timelineId:i,taskId:a},queryParams:p})}async getTaskLog(e,t,s,r,i,a,n){const o={startLine:a,endLine:n};return this.beginRequest({apiVersion:"6.0-preview.2",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/deployPhases/{releaseDeployPhaseId}/tasks/{taskId}/logs",routeValues:{project:e,releaseId:t,environmentId:s,releaseDeployPhaseId:r,taskId:i},queryParams:o})}async getManualIntervention(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/manualInterventions/{manualInterventionId}",routeValues:{project:e,releaseId:t,manualInterventionId:s}})}async getManualInterventions(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/manualInterventions/{manualInterventionId}",routeValues:{project:e,releaseId:t}})}async updateManualIntervention(e,t,s,r){return this.beginRequest({apiVersion:"6.0-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/manualInterventions/{manualInterventionId}",routeValues:{project:t,releaseId:s,manualInterventionId:r},body:e})}async getMetrics(e,t){const s={minMetricsTime:t};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/metrics",routeValues:{project:e},queryParams:s})}async getOrgPipelineReleaseSettings(){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"_apis/Release/orgPipelineReleaseSettings"})}async updateOrgPipelineReleaseSettings(e){return this.beginRequest({apiVersion:"6.0-preview.1",method:"PATCH",routeTemplate:"_apis/Release/orgPipelineReleaseSettings",body:e})}async getPipelineReleaseSettings(e){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/pipelineReleaseSettings",routeValues:{project:e}})}async updatePipelineReleaseSettings(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/Release/pipelineReleaseSettings",routeValues:{project:t},body:e})}async getReleaseProjects(e,t){const s={artifactType:e,artifactSourceId:t};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"_apis/Release/projects",queryParams:s})}async getReleases(e,t,s,r,a,n,o,p,l,u,c,d,m,R,g,h,I,y,v,j,T,V){const f={definitionId:t,definitionEnvironmentId:s,searchText:r,createdBy:a,statusFilter:n,environmentStatusFilter:o,minCreatedTime:p,maxCreatedTime:l,queryOrder:u,$top:c,continuationToken:d,$expand:m,artifactTypeId:R,sourceId:g,artifactVersionId:h,sourceBranchFilter:I,isDeleted:y,tagFilter:v&&v.join(","),propertyFilters:j&&j.join(","),releaseIdFilter:T&&T.join(","),path:V};return this.beginRequest({apiVersion:"6.0-preview.8",routeTemplate:"{project}/_apis/Release/releases",routeValues:{project:e},queryParams:f,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(i.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async createRelease(e,t){return this.beginRequest({apiVersion:"6.0-preview.8",method:"POST",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:t},body:e})}async deleteRelease(e,t,s){const r={comment:s};return this.beginRequest({apiVersion:"6.0-preview.8",method:"DELETE",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:e,releaseId:t},queryParams:r})}async getRelease(e,t,s,r,i,a,n){const o={approvalFilters:s,propertyFilters:r&&r.join(","),$expand:i,$topGateRecords:a,includeDisabledDefinitions:n};return this.beginRequest({apiVersion:"6.0-preview.8",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:e,releaseId:t},queryParams:o})}async getReleaseDefinitionSummary(e,t,s,r,i){const a={definitionId:t,releaseCount:s,includeArtifact:r,definitionEnvironmentIdsFilter:i&&i.join(",")};return this.beginRequest({apiVersion:"6.0-preview.8",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:e},queryParams:a})}async getReleaseRevision(e,t,s){const r={definitionSnapshotRevision:s};return this.beginRequest({apiVersion:"6.0-preview.8",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:e,releaseId:t},queryParams:r})}async undeleteRelease(e,t,s){const r={comment:s};return this.beginRequest({apiVersion:"6.0-preview.8",method:"PUT",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:e,releaseId:t},queryParams:r})}async updateRelease(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.8",method:"PUT",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:t,releaseId:s},body:e})}async updateReleaseResource(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.8",method:"PATCH",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:t,releaseId:s},body:e})}async getReleaseSettings(e){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/releasesettings",routeValues:{project:e}})}async updateReleaseSettings(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",method:"PUT",routeTemplate:"{project}/_apis/Release/releasesettings",routeValues:{project:t},body:e})}async getDefinitionRevision(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.1",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}/revisions/{revision}",routeValues:{project:e,definitionId:t,revision:s}})}async getReleaseDefinitionHistory(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}/revisions/{revision}",routeValues:{project:e,definitionId:t}})}async getSummaryMailSections(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/sendmail/{releaseId}",routeValues:{project:e,releaseId:t}})}async sendSummaryMail(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/sendmail/{releaseId}",routeValues:{project:t,releaseId:s},body:e})}async getSourceBranches(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}/sourcebranches",routeValues:{project:e,definitionId:t}})}async addDefinitionTag(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/Release/definitions/{releaseDefinitionId}/tags/{*tag}",routeValues:{project:e,releaseDefinitionId:t,tag:s}})}async addDefinitionTags(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/definitions/{releaseDefinitionId}/tags/{*tag}",routeValues:{project:t,releaseDefinitionId:s},body:e})}async deleteDefinitionTag(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/Release/definitions/{releaseDefinitionId}/tags/{*tag}",routeValues:{project:e,releaseDefinitionId:t,tag:s}})}async getDefinitionTags(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/definitions/{releaseDefinitionId}/tags/{*tag}",routeValues:{project:e,releaseDefinitionId:t}})}async addReleaseTag(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/tags/{*tag}",routeValues:{project:e,releaseId:t,tag:s}})}async addReleaseTags(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/tags/{*tag}",routeValues:{project:t,releaseId:s},body:e})}async deleteReleaseTag(e,t,s){return this.beginRequest({apiVersion:"6.0-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/tags/{*tag}",routeValues:{project:e,releaseId:t,tag:s}})}async getReleaseTags(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/tags/{*tag}",routeValues:{project:e,releaseId:t}})}async getTags(e){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/tags",routeValues:{project:e}})}async getTasksForTaskGroup(e,t,s,r){return this.beginRequest({apiVersion:"6.0-preview.2",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/deployPhases/{releaseDeployPhaseId}/tasks",routeValues:{project:e,releaseId:t,environmentId:s,releaseDeployPhaseId:r}})}async getTasks2(e,t,s,r,i){return this.beginRequest({apiVersion:"6.0-preview.2",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/tasks",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,timelineId:i}})}async getTasks(e,t,s,r){const i={attemptId:r};return this.beginRequest({apiVersion:"6.0-preview.2",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/tasks",routeValues:{project:e,releaseId:t,environmentId:s},queryParams:i})}async getArtifactTypeDefinitions(e){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/artifacts/types",routeValues:{project:e}})}async getArtifactVersions(e,t){const s={releaseDefinitionId:t};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/artifacts/versions",routeValues:{project:e},queryParams:s})}async getArtifactVersionsForSources(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/artifacts/versions",routeValues:{project:t},body:e})}async getReleaseWorkItemsRefs(e,t,s,r,i){const a={baseReleaseId:s,$top:r,artifactAlias:i};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/workitems",routeValues:{project:e,releaseId:t},queryParams:a})}}t[e].ReleaseClientName="IReleaseRestClient",t[e].getReleaseClient=function(s,r){return s.getRestClient(t[e].ReleaseClientName,r)},s.RestClients.add(t[e].ReleaseClientName,{factory:a,options:{resourceAreaId:"efc2f575-36ef-48e9-b672-0c6fb4a48ac5",serviceInstanceType:"0000000d-0000-8888-8000-000000000000"}})}("RestClientRelease"),function(){t.ServiceRelease={};class e extends s.VssService{getReleaseDefinition(e){const t=this._getProjectName();return this._getClient().getReleaseDefinition(t,e)}createReleaseDefinition(e){const t=this._getProjectName();return this._getClient().createReleaseDefinition(e,t)}updateReleaseDefinition(e,t){const s=this._getProjectName();return this._getClient().updateReleaseDefinition(e,s,t)}deleteReleaseDefinition(e,t,s=!1){const r=this._getProjectName();return this._getClient().deleteReleaseDefinition(r,e,t,s)}undeleteReleaseDefinition(e,t){const s=this._getProjectName();return this._getClient().undeleteReleaseDefinition({comment:t},s,e)}getRelease(e,t,s,r,i){const a=this._getProjectName();return this._getClient().getRelease(a,e,t,s,r,i)}createRelease(e){const t=this._getProjectName();return this._getClient().createRelease(e,t)}updateRelease(e){const t=this._getProjectName();return this._getClient().updateRelease(e,t,e.id)}patchRelease(e,t){const s=this._getProjectName();return this._getClient().updateReleaseResource(t,s,e)}undeleteRelease(e,t){const s=this._getProjectName();return this._getClient().undeleteRelease(s,e,t)}deleteRelease(e,t){const s=this._getProjectName();return this._getClient().deleteRelease(s,e,t)}abandonRelease(e,t){const s={comment:t,keepForever:e.keepForever,manualEnvironments:[],status:4,name:""};return this.patchRelease(e.id,s)}retainRelease(e,t,s){const r={comment:s,keepForever:t,manualEnvironments:[],status:0,name:""};return this.patchRelease(e,r)}getTags(){return this._getClient().getTags(this._getProjectName())}getBranches(e){return this._getClient().getSourceBranches(this._getProjectName(),e)}getReleaseDefinitions(e,t,s,r,i,a,n,o,p,l,u,c,d,m){return this._getClient().getReleaseDefinitions(this._getProjectName(),e,t,s,r,i,a,n,o,p,l,u,c,d,m)}getDeployments(e,t,s,r,i,a,n,o,p,l,u,c,d,m,R){return this.pageContext.getRestClient("IExtendedReleaseClient").getDeploymentsWithContinuationToken(this._getProjectName(),e,t,s,r,i,a,n,o,p,l,u,c,d,m,R)}getApprovals(e,t,s,r,i,a,n,o){return this._getClient().getApprovals(this._getProjectName(),e,t,s,r,i,a,n,o)}getLastDeployment(e){return this.getDeployments(e,void 0,void 0,void 0,void 0,31,258047,void 0,0,1).then((e=>e.deployments[0]))}createFolder(e){let t={path:e};return this._getClient().createFolder(t,this._getProjectName(),e)}updateFolder(e,t){return this._getClient().updateFolder(e,this._getProjectName(),t)}deleteFolder(e){return this._getClient().deleteFolder(this._getProjectName(),e)}listReleases(e,t=0,s="",r=0,i="",a=!1,n=[],o="",p=0,l="",u="",c="",d="",m=0,R=void 0,g=void 0,h=0,I=25,y=[],v=[]){return this.pageContext.getRestClient("IExtendedReleaseClient").getReleasesWithToken(this._getProjectName(),e,t,s,o,r,m,R,g,h,I,p,l,94,u,c,d,i,a,n,y,v)}getDefinitionEnvironmentTemplate(e){const t=this._getProjectName();return this._getClient().getDefinitionEnvironmentTemplate(t,e)}getReleaseEnvironment(e,t,s){const r=this._getProjectName();return this._getClient().getReleaseEnvironment(r,e,t,s)}_getProjectName(){const e=this.pageContext.getService("ITfsPageService").getData();if(e&&e.project)return e.project.name;throw new Error("Release rest client :: Project is not available in page data. Cannot make this network call without project information")}_getClient(){return this.pageContext.getRestClient("IReleaseRestClient")}}s.Services.add("IReleaseService",{serviceFactory:e})}()}),["RestClient/Extended","RestClient/Release","Service/Release"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-releaseManagement-web.release-client"}}));