"use strict";define("ServiceEndpoints/Client",["require","exports","VSS/Platform/Context","VSS/Platform/RestClientBase","VSS/Platform/Util/Serialization"],(function(e,t,i,n,r){var o,a,s,p,c,d,u,l,m,A,g,h,S,y,v,b,f,I;t[I="ConstantsServiceEndpoint"]={},(f=t[I].AzureEndpointConstants||(t[I].AzureEndpointConstants={})).RelevantTenantId="relevantTenantId",f.TenantId="tenantid",f.AppObjectId="appObjectId",f.SpnObjectId="spnObjectId",f.SpnCreationMode="creationMode",f.AzureSubscriptionId="subscriptionId",f.AzureSubscriptionName="subscriptionName",f.ResourceGroupName="resourceGroupName",f.AzureManagementGroupId="managementGroupId",f.MlWorkspaceName="mlWorkspaceName",f.MlWorkspaceId="mlWorkspaceId",f.MlWorkspaceLocation="mlWorkspaceLocation",f.AzureManagementGroupName="managementGroupName",f.ManagementGroupString="ManagementGroup",f.WorkspaceString="AzureMLWorkspace",f.SubscriptionString="Subscription",f.SpnCreationModeAutomatic="Automatic",f.SpnCreationModeManual="Manual",f.SpnClientId="serviceprincipalid",f.SpnKey="servicePrincipalKey",f.AuthenticationType="authenticationType",f.SpnKeyAuthType="spnKey",f.CertAuthType="spnCertificate",f.AzureSpnCertificate="servicePrincipalCertificate",f.AzureRmEndpointType="azurerm",f.AzureClassicEndpointType="azure",f.ContributorRoleId="b24988ac-6180-42a0-ab88-20f7382dd24c",f.OwnerRoleId="8e3af657-a8ff-443c-a75c-2fe8c4bcb635",f.UserAccessAdministratorRoleId="18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",f.AzureSpnRoleAssignmentId="azureSpnRoleAssignmentId",f.AzureSpnPermissions="azureSpnPermissions",f.ScopeLevel="scopeLevel",f.AppToken="AppToken",f.PublishProfile="publishProfile",f.ResourceId="resourceId",f.AppServiceProviderType="microsoft.web/sites",f.ResourceGroups="resourceGroups",f.Subscriptions="subscriptions",f.WorkloadIdentityFederationSubject="workloadIdentityFederationSubject",f.WorkloadIdentityFederationIssuer="workloadIdentityFederationIssuer",f.WorkloadIdentityFederationIssuerType="workloadIdentityFederationIssuerType",f.SubjectDescriptor="subjectDescriptor",f.ApplicationId="ApplicationId",f.ConvertAuthenticationSchemeOperation="ConvertAuthenticationScheme",f.MigrateAuthenticationSchemeOperation="MigrateAuthenticationScheme",f.ConvertAuthenticationSchemeInProgressStatus="converting_scheme",f.ConvertAuthenticationSchemeFailedStatus="converting_scheme_failed",f.ChangePropertiesOperation="ChangeProperties",f.RotateSecretsOperation="RotateSecrets",f.IsDraft="isDraft",f.RevertSchemeDeadline="revertSchemeDeadline",f.RevertSchemeDeadlineExpired="revertSchemeDeadlineExpired",f.isManagedIdentityAutomaticSelected="isManagedIdentityAutomaticSelected",f.IdentityType="identityType",f.OrganizationName="organizationName",f.ApiToken="apitoken",f.DefaultArmUriString="resourceManagerUrl",f.DefaultMicrosoftGraphUriString="microsoftGraphUrl",f.DefaultAuthorityUriString="environmentAuthorityUrl",f.DefaultGalleryUrlString="galleryUrl",f.DefaultServiceManagementUriString="serviceManagementUrl",f.DefaultActiveDirectoryAuthorityString="activeDirectoryAuthority",f.DefaultArmManagementPortalUriString="armManagementPortalUrl",f.DefaultAzureKeyVaultDnsSuffixString="AzureKeyVaultDnsSuffix",f.DefaultAzureKeyVaultServiceEndpointResourceIdString="AzureKeyVaultServiceEndpointResourceId",f.DefaultActiveDirectoryServiceEndpointResourceIdString="ActiveDirectoryServiceEndpointResourceId",f.ServicePrincipalJobName="AzureServicePrincipalEndpointJob",f.ServicePrincipalJobExtensionName="Microsoft.Azure.DevOps.ServiceEndpoints.Server.Extensions.AzureServicePrincipalEndpointJob",f.PublishProfileJobName="AzurePublishProfileEndpointJob",f.PublishProfileJobExtensionName="Microsoft.Azure.DevOps.ServiceEndpoints.Server.Extensions.AzurePublishProfileEndpointJob",f.ArmUriRegistryPath="/Service/Commerce/AzureResourceManager/BaseUrl",f.ArmSubscriptionsFormat="subscriptions?api-version={0}",f.DynamicAppDisplayNamePrefix="VisualStudioSPN",f.DynamicAppUrl="https://VisualStudio/SPN",f.ArmRoleAssignmentFormat="{0}/providers/Microsoft.Authorization/roleAssignments/{1}?api-version={2}",f.ArmGetRoleAssignmentFormat="{0}/providers/Microsoft.Authorization/roleAssignments?api-version={1}&$filter=principalId eq '{2}'",f.ArmApiVersion="2015-07-01",f.EnableAdfsAuthentication="EnableAdfsAuthentication",f.AdfsUrlSuffix="/adfs/",f.AuthorizationHeader="Authorization",f.ContentTypeHeader="Content-Type",f.AcceptHeader="Accept",f.TransferEncodingHeader="TransferEncoding",f.ContentLengthHeader="Content-Length",f.ArmResourceUri="https://management.core.windows.net/",f.VstsClientId="499b84ac-1321-427f-aa17-267ca6975798",f.DefaultArmUri="https://management.azure.com",f.DefaultMicrosoftGraphUri="https://graph.microsoft.com/",f.DefaultMicrosoftGraphApiVersion="v1.0",f.DefaultAuthorityUri="https://login.windows.net/",f.DefaultAzurePortal="https://portal.azure.com/",f.MsalDefaultAuthorityUri="https://login.microsoftonline.com/",f.PpeArmUri="https://api-dogfood.resources.windows-int.net/",f.PpeMicrosoftGraphUri="https://graph.microsoft-ppe.com/",f.PpeMicrosoftGraphApiVersion="v1.0",f.PpeAuthorityUri="https://login.windows-ppe.net/",f.PpeAzurePortal="https://df.onecloud.azure-test.net/",f.SubScriptionId="subscriptionId",f.DefaultManagementGroupApiVersion="2018-03-01-preview",f.DefaultListSubscriptionsApiVersion="2019-06-01",f.DefaultAzureEnvironment="AzureCloud",f.EnvironmentString="environment",f.AzureStackString="AzureStack",f.Application="Application",f.ManagedIdentity="ManagedIdentity",f.ObjectId="objectId",f.SameOrganization="sameOrganization",f.DifferentOrganization="differentOrganization",f.ManagedIdentityRadioButton="managedIdentity",f.AppRegistrationRadioButton="appRegistration",f.SearchForManagedOrApp="searchForManagedOrApp",(b=t[I].AzureEndpointIdentityTypes||(t[I].AzureEndpointIdentityTypes={})).ManagedIdentity="ManagedIdentity",b.ManagedIdentityAgentAssigned="ManagedIdentityAgentAssigned",b.AppRegistrationAutomatic="AppRegistrationAutomatic",b.AppRegistrationManual="AppRegistrationManual",b.PublishProfile="PublishProfile",(v=t[I].AzurePermissionResourceProviders||(t[I].AzurePermissionResourceProviders={})).AzureRoleAssignmentPermission="Microsoft.RoleAssignment",v.AzureKeyVaultPermission="Microsoft.KeyVault",(y=t[I].AzureRmManagementResource||(t[I].AzureRmManagementResource={})).LocationId="9acb984c-4f88-4e13-9691-2e688dddc047",y.LocationIdString="9acb984c-4f88-4e13-9691-2e688dddc047",y.Name="azurermmanagementgroups",(S=t[I].AzureRmSubscriptionsResource||(t[I].AzureRmSubscriptionsResource={})).LocationId="18e8f65d-4e19-4a01-a621-cf0f2d938108",S.LocationIdString="18e8f65d-4e19-4a01-a621-cf0f2d938108",S.Name="azurermsubscriptions",(h=t[I].EndpointAuthorizationSchemes||(t[I].EndpointAuthorizationSchemes={})).AzureStorage="AzureStorage",h.ApplicationOAuth="ApplicationOAuthToken",h.OAuth="OAuth",h.OAuthWrap="OAuthWrap",h.OAuth2="OAuth2",h.Certificate="Certificate",h.UsernamePassword="UsernamePassword",h.Token="Token",h.PersonalAccessToken="PersonalAccessToken",h.ServicePrincipal="ServicePrincipal",h.WorkloadIdentityFederation="WorkloadIdentityFederation",h.None="None",h.Jwt="JWT",h.Kubernetes="Kubernetes",h.ManagedServiceIdentity="ManagedServiceIdentity",h.InstallationToken="InstallationToken",h.JiraConnectApp="JiraConnectApp",h.PublishProfile="PublishProfile",(t[I].EndpointAuthorizationSchemeProperties||(t[I].EndpointAuthorizationSchemeProperties={})).IsSecretRotationSupported="isSecretRotationSupported",(g=t[I].EndpointProxyResource||(t[I].EndpointProxyResource={})).LocationId="cc63bb57-2a5f-4a7a-b79c-c142d308657e",g.LocationIdString="CC63BB57-2A5F-4A7A-B79C-C142D308657E",g.Name="endpointproxy",(A=t[I].EndpointResource||(t[I].EndpointResource={})).ProjectLocationId="e85f1c62-adfc-4b74-b618-11a150fb195e",A.CollectionLocationId="14e48fdc-2c8b-41ce-a0c3-e26f6cc55bd0",A.ProjectLocationIdString="E85F1C62-ADFC-4B74-B618-11A150FB195E",A.CollectionLocationIdString="14E48FDC-2C8B-41CE-A0C3-E26F6CC55BD0",A.Name="endpoints",(m=t[I].EndpointShareResource||(t[I].EndpointShareResource={})).LocationId="86e77201-c1f7-46c9-8672-9dfc2f6f568a",m.Name="share",(l=t[I].EndpointState||(t[I].EndpointState={})).Failed="Failed",l.InProgress="InProgress",l.Ready="Ready",(u=t[I].EndpointTokenResource||(t[I].EndpointTokenResource={})).LocationId="6c9371d6-98b6-4175-afba-915cb24ce263",u.LocationIdString="6c9371d6-98b6-4175-afba-915cb24ce263",u.Name="endpointtoken",(d=t[I].EndpointTypeResource||(t[I].EndpointTypeResource={})).LocationId="5a7938a4-655e-486c-b562-b78c54a7e87b",d.Name="types",(c=t[I].ExectionHistoryResource||(t[I].ExectionHistoryResource={})).GetLocationId="10a16738-9299-4cd1-9a81-fd23ad6200d0",c.PostLocationId="55b9ed4b-5404-41b1-b9d2-7ed757d02bb0",c.GetLocationIdString="10A16738-9299-4CD1-9A81-FD23AD6200D0",c.PostLocationIdString="55B9ED4B-5404-41B1-B9D2-7ED757D02BB0",c.Name="executionhistory",(p=t[I].OAuthConfigurationResource||(t[I].OAuthConfigurationResource={})).LocationId="702edb4e-3952-43fe-a4eb-288938f3ba35",p.LocationIdString="702edb4e-3952-43fe-a4eb-288938f3ba35",p.Name="oauthconfiguration",(s=t[I].ServiceEndpointResourceIds||(t[I].ServiceEndpointResourceIds={})).AreaId="1814AB31-2F4F-4A9F-8761-F4D77DC5A5D7",s.AreaName="serviceendpoint",(a=t[I].ServiceEndpointTypes||(t[I].ServiceEndpointTypes={})).Azure="Azure",a.Chef="Chef",a.ExternalTfs="ExternalTfs",a.Generic="Generic",a.GitHub="GitHub",a.GitHubBoards="GitHubBoards",a.GitHubEnterpriseBoards="GitHubEnterpriseBoards",a.GitHubProximaBoards="GitHubProximaBoards",a.GitHubEnterprise="GitHubEnterprise",a.Bitbucket="Bitbucket",a.SSH="SSH",a.Subversion="Subversion",a.Gcp="google-cloud",a.Jenkins="Jenkins",a.Jira="Jira",a.ExternalGit="Git",a.AzureRM="AzureRM",a.AzureDeploymentManager="AzureDeploymentManager",a.AzureServiceFabric="ServiceFabric",a.AzureServiceBus="Azure Service Bus",a.Docker="dockerregistry",a.Kubernetes="kubernetes",a.Kangaroo="kangaroo",a.IncomingWebHook="incomingwebhook",a.WorkloadIdentityUser="workloadidentityuser",(o=t[I].VstsAadOAuthResource||(t[I].VstsAadOAuthResource={})).LocationId="47911d38-53e1-467a-8c32-d871599d5498",o.LocationIdString="47911d38-53e1-467a-8c32-d871599d5498",o.Name="vstsaadoauth",(t[I].WorkloadIdentityFederationIssuerType||(t[I].WorkloadIdentityFederationIssuerType={})).EntraID="EntraID",function(e){t[e]={};class o extends n.RestClientBase{constructor(e){super(e)}async getAzureManagementGroups(){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"_apis/serviceendpoint/endpointproxy/azurermmanagementgroups"})}async getAzureSubscriptions(){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"_apis/serviceendpoint/endpointproxy/azurermsubscriptions"})}async executeServiceEndpointRequest(e,t,i){const n={endpointId:i};return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/serviceendpoint/endpointproxy",routeValues:{project:t},queryParams:n,body:e})}async queryServiceEndpoint(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/serviceendpoint/endpointproxy",routeValues:{project:t},body:e})}async createServiceEndpoint(e){return this.beginRequest({apiVersion:"6.0-preview.4",method:"POST",routeTemplate:"_apis/serviceendpoint/endpoints/{endpointId}",body:e})}async deleteServiceEndpoint(e,t,i){const n={projectIds:t&&t.join(","),deep:i};return this.beginRequest({apiVersion:"6.0-preview.4",method:"DELETE",routeTemplate:"_apis/serviceendpoint/endpoints/{endpointId}",routeValues:{endpointId:e},queryParams:n})}async getServiceEndpointsByTypeAndOwner(e,t){const i={type:e,owner:t};return this.beginRequest({apiVersion:"6.0-preview.4",routeTemplate:"_apis/serviceendpoint/endpoints/{endpointId}",queryParams:i})}async shareServiceEndpoint(e,t){return this.beginRequest({apiVersion:"6.0-preview.4",method:"PATCH",routeTemplate:"_apis/serviceendpoint/endpoints/{endpointId}",routeValues:{endpointId:t},body:e})}async updateServiceEndpoint(e,t,i){const n={operation:i};return this.beginRequest({apiVersion:"6.0-preview.4",method:"PUT",routeTemplate:"_apis/serviceendpoint/endpoints/{endpointId}",routeValues:{endpointId:t},queryParams:n,body:e})}async updateServiceEndpoints(e){return this.beginRequest({apiVersion:"6.0-preview.4",method:"PUT",routeTemplate:"_apis/serviceendpoint/endpoints/{endpointId}",body:e})}async getServiceEndpointDetails(e,t,i,n){const r={actionFilter:i,loadConfidentialData:n};return this.beginRequest({apiVersion:"6.0-preview.4",routeTemplate:"{project}/_apis/serviceendpoint/endpoints/{endpointId}",routeValues:{project:e,endpointId:t},queryParams:r})}async getServiceEndpoints(e,t,i,n,r,o,a,s){const p={type:t,authSchemes:i&&i.join(","),endpointIds:n&&n.join(","),owner:r,includeFailed:o,includeDetails:a,actionFilter:s};return this.beginRequest({apiVersion:"6.0-preview.4",routeTemplate:"{project}/_apis/serviceendpoint/endpoints/{endpointId}",routeValues:{project:e},queryParams:p})}async getServiceEndpointsByNames(e,t,i,n,r,o,a){const s={endpointNames:t&&t.join(","),type:i,authSchemes:n&&n.join(","),owner:r,includeFailed:o,includeDetails:a};return this.beginRequest({apiVersion:"6.0-preview.4",routeTemplate:"{project}/_apis/serviceendpoint/endpoints/{endpointId}",routeValues:{project:e},queryParams:s})}async getServiceEndpointsWithRefreshedAuthentication(e,t,i){const n={endpointIds:i&&i.join(",")};return this.beginRequest({apiVersion:"6.0-preview.4",method:"POST",routeTemplate:"{project}/_apis/serviceendpoint/endpoints/{endpointId}",routeValues:{project:t},queryParams:n,body:e})}async getServiceEndpointExecutionRecords(e,t,i,n){const o={top:i,continuationToken:n};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/serviceendpoint/{endpointId}/executionhistory",routeValues:{project:e,endpointId:t},queryParams:o,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(r.deserializeVssJsonObject);return t.continuationToken=e.headers.get("x-ms-continuationtoken"),t}))}async addServiceEndpointExecutionRecords(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/serviceendpoint/executionhistory",routeValues:{project:t},body:e})}async createOAuthConfiguration(e){return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"_apis/serviceendpoint/oauthconfiguration/{configurationId}",body:e})}async deleteOAuthConfiguration(e){return this.beginRequest({apiVersion:"6.0-preview.1",method:"DELETE",routeTemplate:"_apis/serviceendpoint/oauthconfiguration/{configurationId}",routeValues:{configurationId:e}})}async getOAuthConfiguration(e){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"_apis/serviceendpoint/oauthconfiguration/{configurationId}",routeValues:{configurationId:e}})}async getOAuthConfigurations(e,t){const i={endpointType:e,actionFilter:t};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"_apis/serviceendpoint/oauthconfiguration/{configurationId}",queryParams:i})}async updateOAuthConfiguration(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",method:"PUT",routeTemplate:"_apis/serviceendpoint/oauthconfiguration/{configurationId}",routeValues:{configurationId:t},body:e})}async querySharedProjects(e,t){const i={project:t};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"_apis/serviceendpoint/share/{endpointId}",routeValues:{endpointId:e},queryParams:i})}async shareEndpointWithProject(e,t,i){const n={fromProject:t,withProject:i};return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"_apis/serviceendpoint/share/{endpointId}",routeValues:{endpointId:e},queryParams:n})}async getServiceEndpointTypes(e,t){const i={type:e,scheme:t};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"_apis/serviceendpoint/types",queryParams:i})}async createAadOAuthRequest(e,t,i,n,r){const o={tenantId:e,redirectUri:t,promptOption:i,completeCallbackPayload:n,completeCallbackByAuthCode:r};return this.beginRequest({apiVersion:"6.0-preview.1",method:"POST",routeTemplate:"_apis/serviceendpoint/vstsaadoauth/vstsaadoauth",queryParams:o})}async getVstsAadTenantId(){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"_apis/serviceendpoint/vstsaadoauth/vstsaadoauth"})}}t[e].ServiceEndpointClientName="ServiceEndpoint.IServiceEndpointRestClient",t[e].getServiceEndpointClient=function(i,n){return i.getRestClient(t[e].ServiceEndpointClientName,n)},i.RestClients.add(t[e].ServiceEndpointClientName,{factory:o,options:{resourceAreaId:"1814ab31-2f4f-4a9f-8761-f4d77dc5a5d7",serviceInstanceType:"00025394-6065-48ca-87d9-7f5672854ef7"}})}("RestClientServiceEndpoint")}),["Constants/ServiceEndpoint","RestClient/ServiceEndpoint"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-serviceEndpoints-web.client-library"}}));